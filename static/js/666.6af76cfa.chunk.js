"use strict";(self.webpackChunk_kne_components_react_form=self.webpackChunk_kne_components_react_form||[]).push([[666],{69666(n,t,e){e.d(t,{A:()=>o});var d=e(23517),r=e(55199);const o={name:"react-form",summary:"<h2>\u6838\u5fc3\u7279\u6027</h2>\n<h3>\ud83d\udce6 \u8f7b\u91cf\u7ea7\u72b6\u6001\u7ba1\u7406</h3>\n<ul>\n<li>\u57fa\u4e8e React Context + State\uff0c\u96f6\u989d\u5916\u4f9d\u8d56</li>\n<li>\u652f\u6301\u5d4c\u5957\u5206\u7ec4\u548c\u590d\u6742\u6570\u636e\u7ed3\u6784</li>\n<li>\u5b9e\u65f6\u72b6\u6001\u66f4\u65b0\uff0cO(1) \u9ad8\u6548\u6570\u636e\u8bbf\u95ee</li>\n</ul>\n<h3>\ud83c\udf9b\ufe0f \u7075\u6d3b\u5b57\u6bb5\u63a7\u5236</h3>\n<ul>\n<li><code>useField</code> Hook\uff0c\u5b57\u6bb5\u7ea7\u7cbe\u7ec6\u5316\u63a7\u5236</li>\n<li>\u652f\u6301\u5b57\u6bb5\u7ea7\u62e6\u622a\u5668\u4e0e\u5173\u8054\u8054\u52a8</li>\n<li>\u5185\u7f6e\u9632\u6296\uff0c\u667a\u80fd\u53bb\u7a7a\u503c\u5904\u7406</li>\n</ul>\n<h3>\ud83d\udce1 \u4e8b\u4ef6\u9a71\u52a8\u67b6\u6784</h3>\n<ul>\n<li>\u57fa\u4e8e\u4e8b\u4ef6\u53d1\u5c04\u5668\u7684\u89e3\u8026\u8bbe\u8ba1</li>\n<li>\u652f\u6301\u8868\u5355/\u5b57\u6bb5/\u5206\u7ec4\u4e09\u7ea7\u4e8b\u4ef6\u76d1\u542c</li>\n<li>\u4fbf\u4e8e\u6269\u5c55\u548c\u81ea\u5b9a\u4e49</li>\n</ul>\n<h3>\u2705 \u5f3a\u5927\u9a8c\u8bc1\u7cfb\u7edf</h3>\n<ul>\n<li>\u5185\u7f6e\u89c4\u5219\uff1a\u5fc5\u586b\u3001\u624b\u673a\u53f7\u3001\u90ae\u7bb1\u3001\u957f\u5ea6\u7b49</li>\n<li>\u652f\u6301\u5f02\u6b65\u8fdc\u7a0b\u9a8c\u8bc1</li>\n<li>\u53ef\u81ea\u5b9a\u4e49\u89c4\u5219\u4e0e\u9519\u8bef\u63d0\u793a</li>\n</ul>\n<h3>\ud83d\udcc1 \u5206\u7ec4\u7ba1\u7406</h3>\n<ul>\n<li>\u652f\u6301\u65e0\u9650\u5d4c\u5957\u5206\u7ec4\u7ed3\u6784</li>\n<li>GroupList \u52a8\u6001\u589e\u5220\uff0c\u8f7b\u677e\u7ba1\u7406</li>\n<li>\u652f\u6301\u5206\u7ec4\u7ea7\u6570\u636e\u6279\u91cf\u64cd\u4f5c</li>\n</ul>\n<h3>\ud83c\udfae \u8868\u5355 API</h3>\n<ul>\n<li><code>useFormApi</code> Hook\uff0c\u5b8c\u6574\u64cd\u4f5c\u80fd\u529b</li>\n<li>\u652f\u6301\u83b7\u53d6/\u8bbe\u7f6e\u8868\u5355\u6570\u636e</li>\n<li>\u652f\u6301\u5b57\u6bb5\u7ea7\u9a8c\u8bc1\u63a7\u5236</li>\n</ul>\n<h2>\u8bbe\u8ba1\u7406\u5ff5</h2>\n<p>Form \u7ec4\u4ef6\u91c7\u7528\u5206\u5c42\u67b6\u6784\u8bbe\u8ba1\uff0c\u5c06\u8868\u5355\u7ba1\u7406\u3001\u72b6\u6001\u7ba1\u7406\u3001\u4e8b\u4ef6\u5904\u7406\u3001\u9a8c\u8bc1\u903b\u8f91\u7b49\u804c\u8d23\u5206\u79bb\uff0c\u901a\u8fc7 Context \u8fdb\u884c\u6570\u636e\u4f20\u9012\uff0c\u5b9e\u73b0\u4e86\u9ad8\u5ea6\u89e3\u8026\u548c\u53ef\u6269\u5c55\u6027\u3002</p>\n<h2>\u6838\u5fc3\u67b6\u6784</h2>\n<h3>Context \u5c42</h3>\n<p>Form \u901a\u8fc7 Provider \u5c06\u8868\u5355\u7684\u6838\u5fc3\u80fd\u529b\u4f20\u9012\u7ed9\u5b50\u7ec4\u4ef6\uff0c\u5305\u62ec\uff1a</p>\n<ul>\n<li><code>emitter</code> - \u4e8b\u4ef6\u53d1\u5c04\u5668\uff0c\u8d1f\u8d23\u8868\u5355\u5185\u90e8\u7684\u4e8b\u4ef6\u901a\u4fe1</li>\n<li><code>openApi</code> - \u8868\u5355\u64cd\u4f5c\u63a5\u53e3\uff0c\u63d0\u4f9b\u6570\u636e\u83b7\u53d6\u3001\u8bbe\u7f6e\u3001\u9a8c\u8bc1\u7b49\u65b9\u6cd5</li>\n<li><code>task</code> - \u4efb\u52a1\u7ba1\u7406\u5668\uff0c\u5904\u7406\u5f02\u6b65\u4efb\u52a1\u961f\u5217</li>\n<li><code>formState</code> - \u8868\u5355\u72b6\u6001\uff0c\u4f7f\u7528 Map \u5b58\u50a8\u6240\u6709\u5b57\u6bb5\u7684\u72b6\u6001</li>\n<li><code>setFormState</code> - \u8868\u5355\u72b6\u6001\u66f4\u65b0\u51fd\u6570</li>\n<li><code>formIsMount</code> - \u8868\u5355\u6302\u8f7d\u72b6\u6001</li>\n<li><code>rules</code> - \u9a8c\u8bc1\u89c4\u5219\u96c6\u5408\uff0c\u5305\u542b\u5185\u7f6e\u89c4\u5219\u548c\u81ea\u5b9a\u4e49\u89c4\u5219</li>\n<li><code>interceptor</code> - \u62e6\u622a\u5668\u914d\u7f6e</li>\n<li><code>onSubmit</code> / <code>onError</code> - \u63d0\u4ea4\u548c\u9519\u8bef\u56de\u8c03</li>\n</ul>\n<h3>Provider \u5c42\u6b21\u7ed3\u6784</h3>\n<pre><code>Form (\u6839\u7ec4\u4ef6)\n  \u251c\u2500 Provider (Context \u4f20\u9012)\n  \u2502   \u251c\u2500 FormApiProvider (\u5c01\u88c5 openApi)\n  \u2502   \u2502   \u2514\u2500 FormEvent (\u4e8b\u4ef6\u76d1\u542c\u548c\u5904\u7406)\n  \u2502   \u2502       \u2514\u2500 children (\u8868\u5355\u5b57\u6bb5)\n</code></pre>\n<h2>\u5b57\u6bb5\u7cfb\u7edf</h2>\n<h3>useField Hook</h3>\n<pre><code class=\"language-javascript\">const fieldProps = useField({\n  name: 'fieldName',      // \u5b57\u6bb5\u540d\u79f0\uff08\u5fc5\u586b\uff09\n  label: '\u5b57\u6bb5\u6807\u7b7e',       // \u5b57\u6bb5\u6807\u7b7e\n  rule: 'REQ LEN-3-10', // \u9a8c\u8bc1\u89c4\u5219\n  interceptor: 'trim',      // \u62e6\u622a\u5668\n  associations: { ... }     // \u5b57\u6bb5\u5173\u8054\n});\n</code></pre>\n<h3>\u5b57\u6bb5\u72b6\u6001</h3>\n<p>\u6bcf\u4e2a\u5b57\u6bb5\u90fd\u6709\u72ec\u7acb\u7684\u72b6\u6001\u5bf9\u8c61\uff0c\u5305\u542b\uff1a</p>\n<ul>\n<li><code>id</code> - \u5b57\u6bb5\u552f\u4e00\u6807\u8bc6</li>\n<li><code>name</code> - \u5b57\u6bb5\u540d\u79f0</li>\n<li><code>groupName</code> - \u6240\u5c5e\u5206\u7ec4\u540d\u79f0</li>\n<li><code>groupIndex</code> - \u5206\u7ec4\u7d22\u5f15</li>\n<li><code>value</code> - \u5b57\u6bb5\u503c</li>\n<li><code>label</code> - \u5b57\u6bb5\u6807\u7b7e</li>\n<li><code>rule</code> - \u9a8c\u8bc1\u89c4\u5219</li>\n<li><code>validate</code> - \u9a8c\u8bc1\u72b6\u6001\uff08INIT/PENDING/PASS/ERROR\uff09</li>\n<li><code>errMsg</code> - \u9519\u8bef\u4fe1\u606f</li>\n</ul>\n<h3>\u8868\u5355\u72b6\u6001</h3>\n<p>\u4f7f\u7528 Map \u7ed3\u6784\u5b58\u50a8\u6240\u6709\u5b57\u6bb5\u72b6\u6001\uff0c\u901a\u8fc7 <code>formStateRef.current</code> \u6301\u6709\u5f15\u7528\uff0c\u786e\u4fdd\u72b6\u6001\u66f4\u65b0\u7684\u4e00\u81f4\u6027\u3002</p>\n<h2>\u9a8c\u8bc1\u89c4\u5219</h2>\n<h3>\u89c4\u5219\u683c\u5f0f</h3>\n<p>\u9a8c\u8bc1\u89c4\u5219\u652f\u6301\u4e09\u79cd\u683c\u5f0f\uff1a</p>\n<ol>\n<li><strong>\u5b57\u7b26\u4e32\u683c\u5f0f</strong>\uff1a<code>\"REQ LEN-3-10 EMAIL\"</code> - \u7a7a\u683c\u5206\u9694\u591a\u4e2a\u89c4\u5219</li>\n<li><strong>\u51fd\u6570\u683c\u5f0f</strong>\uff1a\u81ea\u5b9a\u4e49\u9a8c\u8bc1\u51fd\u6570</li>\n<li><strong>\u6b63\u5219\u8868\u8fbe\u5f0f</strong>\uff1a\u76f4\u63a5\u4f7f\u7528\u6b63\u5219\u9a8c\u8bc1</li>\n</ol>\n<h3>\u89c4\u5219\u89e3\u6790</h3>\n<pre><code>\u89c4\u5219\u683c\u5f0f\uff1a{RULE_NAME}-{arg1}-{arg2}-{arg3}...\n\n\u793a\u4f8b\uff1a\n- \"REQ\"              \u2192 \u89c4\u5219\u540d\uff1aREQ\uff0c\u65e0\u53c2\u6570\n- \"LEN-3-10\"         \u2192 \u89c4\u5219\u540d\uff1aLEN\uff0c\u53c2\u6570\uff1amin=3, max=10\n- \"REQ LEN-3-10\"     \u2192 \u591a\u4e2a\u89c4\u5219\u7ec4\u5408\n</code></pre>\n<p><strong>\u89e3\u6790\u6b65\u9aa4</strong>\uff1a</p>\n<ol>\n<li>\u6309\u7a7a\u683c\u5206\u5272\u89c4\u5219\u5b57\u7b26\u4e32 \u2192 <code>[\"REQ\", \"LEN-3-10\"]</code></li>\n<li>\u5bf9\u6bcf\u4e2a\u89c4\u5219\u6309 <code>-</code> \u5206\u5272 \u2192 <code>[\"LEN\", \"3\", \"10\"]</code></li>\n<li>\u7b2c\u4e00\u90e8\u5206\u4e3a\u89c4\u5219\u540d\uff08\u8f6c\u4e3a\u5927\u5199\u5339\u914d\uff09 \u2192 <code>LEN</code></li>\n<li>\u540e\u7eed\u90e8\u5206\u4e3a\u89c4\u5219\u53c2\u6570 \u2192 <code>[3, 10]</code></li>\n</ol>\n<h3>\u5185\u7f6e\u89c4\u5219</h3>\n<table>\n<thead>\n<tr>\n<th>\u89c4\u5219\u540d</th>\n<th>\u53c2\u6570</th>\n<th>\u8bf4\u660e</th>\n<th>\u9a8c\u8bc1\u903b\u8f91</th>\n<th>\u9519\u8bef\u63d0\u793a</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>REQ</code></td>\n<td>\u65e0</td>\n<td>\u5fc5\u586b\u9a8c\u8bc1</td>\n<td>\u503c\u975e\u7a7a\uff08null/undefined/''\uff09</td>\n<td>-</td>\n</tr>\n<tr>\n<td><code>TEL</code></td>\n<td>\u65e0</td>\n<td>\u624b\u673a\u53f7\u9a8c\u8bc1</td>\n<td>\u5339\u914d <code>/^1[0-9]{10}$/</code></td>\n<td>\"\u8bf7\u8f93\u5165\u6709\u6548\u7684\u624b\u673a\u53f7\"</td>\n</tr>\n<tr>\n<td><code>EMAIL</code></td>\n<td>\u65e0</td>\n<td>\u90ae\u7bb1\u9a8c\u8bc1</td>\n<td>\u5339\u914d\u90ae\u7bb1\u6b63\u5219</td>\n<td>\"\u8bf7\u8f93\u5165\u6709\u6548\u7684\u90ae\u7bb1\"</td>\n</tr>\n<tr>\n<td><code>LEN</code></td>\n<td>min, max</td>\n<td>\u957f\u5ea6\u9a8c\u8bc1</td>\n<td>min \u2264 \u957f\u5ea6 \u2264 max</td>\n<td>\"%s\u957f\u5ea6\u5fc5\u987b\u5927\u4e8emin/\u5c0f\u4e8emax/\u7b49\u4e8emin\"</td>\n</tr>\n</tbody>\n</table>\n<h3>\u81ea\u5b9a\u4e49\u89c4\u5219</h3>\n<p>\u89c4\u5219\u51fd\u6570\u63a5\u6536\u53c2\u6570\uff1a<code>(value, ...args, { data, field })</code></p>\n<pre><code class=\"language-javascript\">// \u540c\u6b65\u9a8c\u8bc1\u89c4\u5219\nrules: {\n  PASSWORD_STRENGTH: (value, level, { data }) =&gt; {\n    const strength = checkStrength(value);\n    return {\n      result: strength &gt;= level,\n      errMsg: strength &gt;= level ? '' : '\u5bc6\u7801\u5f3a\u5ea6\u4e0d\u8db3',\n      data: { strength }\n    };\n  }\n}\n\n// \u5f02\u6b65\u9a8c\u8bc1\u89c4\u5219\nrules: {\n  CHECK_UNIQUE: async (value, { field }) =&gt; {\n    const exists = await api.checkUnique(field.name, value);\n    return {\n      result: !exists,\n      errMsg: exists ? '\u8be5\u503c\u5df2\u5b58\u5728' : ''\n    };\n  }\n}\n\n// \u4f7f\u7528\u6570\u636e\u8054\u52a8\nrules: {\n  MATCH_PASSWORD: (value, { data }) =&gt; {\n    return {\n      result: value === data.password,\n      errMsg: '\u4e24\u6b21\u8f93\u5165\u7684\u5bc6\u7801\u4e0d\u4e00\u81f4'\n    };\n  }\n}\n</code></pre>\n<h3>\u9a8c\u8bc1\u6d41\u7a0b</h3>\n<p><strong>\u5355\u4e2a\u5b57\u6bb5\u9a8c\u8bc1\u6d41\u7a0b</strong>\uff1a</p>\n<pre><code>1. \u89e6\u53d1\u9a8c\u8bc1\n   \u251c\u2500 \u7528\u6237\u8f93\u5165 (onChange + \u9632\u6296)\n   \u251c\u2500 \u5931\u7126\u4e8b\u4ef6 (onBlur)\n   \u251c\u2500 \u624b\u52a8\u8c03\u7528 validateField()\n   \u2514\u2500 \u8868\u5355\u63d0\u4ea4 (validateAll())\n   \u2193\n2. \u67e5\u627e\u5b57\u6bb5\n   \u251c\u2500 \u901a\u8fc7 id \u67e5\u627e\n   \u251c\u2500 \u901a\u8fc7 name \u67e5\u627e\n   \u251c\u2500 \u901a\u8fc7 groupName + groupIndex + name \u67e5\u627e\n   \u2514\u2500 \u672a\u627e\u5230\u5219\u8df3\u8fc7\n   \u2193\n3. \u89e3\u6790\u9a8c\u8bc1\u89c4\u5219\n   \u251c\u2500 \u5206\u5272\u89c4\u5219\u5b57\u7b26\u4e32 (\u7a7a\u683c\u5206\u9694)\n   \u251c\u2500 \u5339\u914d\u5185\u7f6e\u89c4\u5219 (REQ, TEL, EMAIL, LEN)\n   \u2514\u2500 \u5339\u914d\u81ea\u5b9a\u4e49\u89c4\u5219\n   \u2193\n4. \u6267\u884c\u9a8c\u8bc1\n   \u251c\u2500 \u66f4\u65b0\u5b57\u6bb5\u72b6\u6001\u4e3a PENDING\n   \u251c\u2500 \u4f9d\u6b21\u6267\u884c\u6bcf\u4e2a\u89c4\u5219\n   \u251c\u2500 \u540c\u6b65\u89c4\u5219\u7acb\u5373\u8fd4\u56de\u7ed3\u679c\n   \u2514\u2500 \u5f02\u6b65\u89c4\u5219\u7b49\u5f85 Promise\n   \u2193\n5. \u5904\u7406\u9a8c\u8bc1\u7ed3\u679c\n   \u251c\u2500 \u5168\u90e8\u901a\u8fc7 \u2192 \u72b6\u6001\u8bbe\u4e3a PASS\n   \u251c\u2500 \u4efb\u610f\u5931\u8d25 \u2192 \u72b6\u6001\u8bbe\u4e3a ERROR\uff0c\u8bb0\u5f55\u9519\u8bef\u4fe1\u606f\n   \u2514\u2500 \u66f4\u65b0 formState\n   \u2193\n6. \u89e6\u53d1\u4e8b\u4ef6\n   \u251c\u2500 emit('form-field:validate:{fieldId}')\n   \u251c\u2500 \u89e6\u53d1\u5173\u8054\u5b57\u6bb5\u7684 associations \u56de\u8c03\n   \u2514\u2500 \u8ba1\u7b97\u8868\u5355\u6574\u4f53 isPass \u72b6\u6001\n</code></pre>\n<p><strong>\u8868\u5355\u6574\u4f53\u9a8c\u8bc1\u6d41\u7a0b</strong>\uff1a</p>\n<pre><code>1. \u89e6\u53d1 validateAll()\n   \u2193\n2. \u904d\u5386\u6240\u6709\u5b57\u6bb5\n   \u251c\u2500 \u5bf9\u6bcf\u4e2a\u5b57\u6bb5\u6267\u884c\u5355\u5b57\u6bb5\u9a8c\u8bc1\u6d41\u7a0b\n   \u2514\u2500 \u6536\u96c6\u9a8c\u8bc1\u7ed3\u679c\n   \u2193\n3. \u5224\u65ad\u8868\u5355\u72b6\u6001\n   \u251c\u2500 \u6240\u6709\u5b57\u6bb5\u90fd PASS \u2192 isPass = true\n   \u2514\u2500 \u5b58\u5728\u4efb\u610f ERROR \u6216 PENDING \u2192 isPass = false\n   \u2193\n4. \u8fd4\u56de\u9a8c\u8bc1\u7ed3\u679c\n   \u2514\u2500 \u63d0\u4ea4\u5904\u7406\n</code></pre>\n<p><strong>\u9a8c\u8bc1\u89c4\u5219\u6267\u884c\u987a\u5e8f</strong>\uff1a</p>\n<p>\u89c4\u5219\u6309\u7167\u58f0\u660e\u987a\u5e8f\u4f9d\u6b21\u6267\u884c\uff0c\u9047\u5230\u7b2c\u4e00\u4e2a\u5931\u8d25\u7684\u89c4\u5219\u5373\u505c\u6b62\u3002</p>\n<p>\u793a\u4f8b\uff1a<code>rule=\"REQ LEN-3-20 EMAIL\"</code></p>\n<ol>\n<li>\u68c0\u67e5\u5fc5\u586b (REQ)</li>\n<li>\u68c0\u67e5\u957f\u5ea6 (LEN-3-20)</li>\n<li>\u68c0\u67e5\u90ae\u7bb1\u683c\u5f0f (EMAIL)</li>\n</ol>\n<p>\u82e5\u7b2c 1 \u6b65\u5931\u8d25\uff0c\u5219\u4e0d\u4f1a\u6267\u884c\u540e\u7eed\u68c0\u67e5\u3002</p>\n<h2>\u5b57\u6bb5\u5173\u8054</h2>\n<h3>\u8bbe\u8ba1\u673a\u5236</h3>\n<p>\u5b57\u6bb5\u5173\u8054\u662f react-form \u5b9e\u73b0\u8868\u5355\u5b57\u6bb5\u8054\u52a8\u7684\u6838\u5fc3\u673a\u5236\uff0c\u901a\u8fc7\u76d1\u542c\u5173\u8054\u5b57\u6bb5\u7684\u53d8\u5316\uff0c\u81ea\u52a8\u66f4\u65b0\u76ee\u6807\u5b57\u6bb5\u7684\u503c\u3002</p>\n<h3>\u914d\u7f6e\u7ed3\u6784</h3>\n<pre><code class=\"language-javascript\">{\n  fields: [{ name: 'field1' }, { name: 'field2' }],\n  callback: ({ target, origin, openApi }) =&gt; {\n    // \u5f53\u5173\u8054\u5b57\u6bb5\u53d8\u5316\u65f6\uff0c\u66f4\u65b0\u76ee\u6807\u5b57\u6bb5\n    openApi.setFieldValue(target, computedValue);\n  }\n}\n</code></pre>\n<table>\n<thead>\n<tr>\n<th>\u5c5e\u6027</th>\n<th>\u7c7b\u578b</th>\n<th>\u5fc5\u586b</th>\n<th>\u8bf4\u660e</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>fields</code></td>\n<td><code>Array&lt;FieldReference&gt;</code></td>\n<td>\u662f</td>\n<td>\u5173\u8054\u5b57\u6bb5\u5217\u8868\uff0c\u5f53\u8fd9\u4e9b\u5b57\u6bb5\u53d8\u5316\u65f6\u89e6\u53d1\u56de\u8c03</td>\n</tr>\n<tr>\n<td><code>callback</code></td>\n<td><code>Function</code></td>\n<td>\u662f</td>\n<td>\u5173\u8054\u56de\u8c03\u51fd\u6570\uff0c\u63a5\u6536\u53d8\u5316\u4fe1\u606f\u5e76\u66f4\u65b0\u76ee\u6807\u5b57\u6bb5</td>\n</tr>\n</tbody>\n</table>\n<h3>FieldReference \u5f15\u7528\u7c7b\u578b</h3>\n<pre><code class=\"language-javascript\">// \u5355\u5b57\u6bb5\u5f15\u7528\n{ name: 'fieldName' }\n\n// \u5206\u7ec4\u5b57\u6bb5\u5f15\u7528\n{ name: 'fieldName', groupName: 'groupName' }\n\n// \u5206\u7ec4\u7279\u5b9a\u9879\u5f15\u7528\n{\n  name: 'fieldName',\n  groupName: 'groupName',\n  groupIndex: 0  // \u7d22\u5f15\u4ece 0 \u5f00\u59cb\n}\n</code></pre>\n<h3>Callback \u56de\u8c03\u53c2\u6570</h3>\n<pre><code class=\"language-javascript\">callback: ({ target, origin, openApi, data }) =&gt; {\n  // target: \u76ee\u6807\u5b57\u6bb5\u7684\u5b8c\u6574\u5bf9\u8c61\n  //   - id: \u5b57\u6bb5\u552f\u4e00\u6807\u8bc6\n  //   - name: \u5b57\u6bb5\u540d\u79f0\n  //   - value: \u5b57\u6bb5\u5f53\u524d\u503c\n  //   - groupName: \u6240\u5c5e\u5206\u7ec4\uff08\u5982\u679c\u6709\uff09\n  //   - groupIndex: \u5206\u7ec4\u7d22\u5f15\uff08\u5982\u679c\u6709\uff09\n\n  // origin: \u6e90\u5b57\u6bb5\u7684\u503c\uff08\u4ec5\u5728\u5355\u5b57\u6bb5\u5173\u8054\u65f6\u6709\u503c\uff09\n\n  // openApi: \u8868\u5355 API \u5bf9\u8c61\uff0c\u63d0\u4f9b\u64cd\u4f5c\u65b9\u6cd5\n  //   - getFormData(): \u83b7\u53d6\u8868\u5355\u6570\u636e\n  //   - setFieldValue(target, value): \u8bbe\u7f6e\u5b57\u6bb5\u503c\n  //   - setFieldValidate(target, validate): \u8bbe\u7f6e\u9a8c\u8bc1\u72b6\u6001\n\n  // data: \u8868\u5355\u5b8c\u6574\u6570\u636e\uff08\u5305\u542b\u6240\u6709\u5b57\u6bb5\uff09\n}\n</code></pre>\n<h3>\u89e6\u53d1\u65f6\u673a</h3>\n<ol>\n<li><strong>\u5173\u8054\u5b57\u6bb5\u503c\u53d8\u5316</strong> - \u7528\u6237\u8f93\u5165\u6216\u7a0b\u5e8f\u4fee\u6539\u5173\u8054\u5b57\u6bb5\u7684\u503c</li>\n<li><strong>\u5173\u8054\u5b57\u6bb5\u9a8c\u8bc1\u5b8c\u6210</strong> - \u5b57\u6bb5\u9a8c\u8bc1\u901a\u8fc7\u540e\u89e6\u53d1</li>\n<li><strong>\u8868\u5355\u6570\u636e\u6279\u91cf\u8bbe\u7f6e</strong> - \u901a\u8fc7 <code>setFormData()</code> \u6216 <code>setFields()</code> \u6279\u91cf\u66f4\u65b0\u6570\u636e</li>\n</ol>\n<h3>\u6267\u884c\u987a\u5e8f</h3>\n<p>\u5173\u8054\u66f4\u65b0\u4f1a\u9012\u5f52\u89e6\u53d1\uff0c\u6ce8\u610f\u907f\u514d\u5faa\u73af\u4f9d\u8d56\u3002</p>\n<h3>\u907f\u514d\u5faa\u73af\u5173\u8054</h3>\n<pre><code class=\"language-javascript\">// \u274c \u9519\u8bef\uff1a\u5faa\u73af\u4f9d\u8d56\n&lt;Input name=\"a\" associations={{ fields: [{ name: 'b' }], callback: ({ origin }) =&gt; origin }} /&gt;\n&lt;Input name=\"b\" associations={{ fields: [{ name: 'a' }], callback: ({ origin }) =&gt; origin }} /&gt;\n\n// \u2705 \u6b63\u786e\uff1a\u5355\u5411\u4f9d\u8d56\n&lt;Input name=\"fullName\" associations={{\n  fields: [{ name: 'firstName' }, { name: 'lastName' }],\n  callback: ({ data }) =&gt; `${data.firstName}${data.lastName}`\n}} /&gt;\n</code></pre>\n<h3>\u5b9e\u7528\u573a\u666f</h3>\n<p>\u8be6\u89c1 <code>associations.js</code> \u793a\u4f8b\u6587\u4ef6\uff0c\u5305\u542b\u4ee5\u4e0b\u573a\u666f\uff1a</p>\n<ol>\n<li><strong>\u5355\u5b57\u6bb5\u503c\u590d\u5236</strong> - \u5c06\u4e00\u4e2a\u5b57\u6bb5\u7684\u503c\u81ea\u52a8\u590d\u5236\u5230\u53e6\u4e00\u4e2a\u5b57\u6bb5</li>\n<li><strong>\u591a\u5b57\u6bb5\u503c\u62fc\u63a5</strong> - \u5c06\u591a\u4e2a\u5b57\u6bb5\u7684\u503c\u62fc\u63a5\u6210\u4e00\u4e2a\u65b0\u503c</li>\n<li><strong>\u6570\u503c\u8ba1\u7b97</strong> - \u57fa\u4e8e\u591a\u4e2a\u5b57\u6bb5\u7684\u503c\u8fdb\u884c\u8ba1\u7b97</li>\n<li><strong>\u5206\u7ec4\u5b57\u6bb5\u805a\u5408</strong> - \u5bf9\u5206\u7ec4\u5185\u7684\u591a\u4e2a\u5b57\u6bb5\u503c\u8fdb\u884c\u6c47\u603b</li>\n</ol>\n<h2>\u62e6\u622a\u5668</h2>\n<h3>\u62e6\u622a\u5668\u7c7b\u578b</h3>\n<table>\n<thead>\n<tr>\n<th>\u7c7b\u578b</th>\n<th>\u6267\u884c\u65f6\u673a</th>\n<th>\u7528\u9014</th>\n<th>\u65b9\u5411</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>input</code></td>\n<td>\u503c\u5b58\u5165\u8868\u5355\u524d</td>\n<td>\u6570\u636e\u6e05\u7406\u3001\u8f6c\u6362\u3001\u89c4\u8303\u5316</td>\n<td>\u5916\u90e8 \u2192 \u5185\u90e8</td>\n</tr>\n<tr>\n<td><code>output</code></td>\n<td>\u503c\u4ece\u8868\u5355\u53d6\u51fa\u65f6</td>\n<td>\u6570\u636e\u683c\u5f0f\u5316\u3001\u8f6c\u6362</td>\n<td>\u5185\u90e8 \u2192 \u5916\u90e8</td>\n</tr>\n</tbody>\n</table>\n<h3>\u6ce8\u518c\u673a\u5236</h3>\n<pre><code class=\"language-javascript\">// \u5168\u5c40\u62e6\u622a\u5668\uff08\u6240\u6709\u8868\u5355\u5171\u4eab\uff09\nimport { interceptors } from 'react-form';\n\n// \u6ce8\u518c\u8f93\u5165\u62e6\u622a\u5668\ninterceptors.input.use('trim', value =&gt; value.trim());\n\n// \u6ce8\u518c\u8f93\u51fa\u62e6\u622a\u5668\ninterceptors.output.use('formatDate', value =&gt; {\n  return value ? new Date(value).toISOString() : null;\n});\n</code></pre>\n<h3>\u8868\u5355\u7ea7\u62e6\u622a\u5668\uff08\u4f18\u5148\u7ea7\u9ad8\u4e8e\u5168\u5c40\uff09</h3>\n<pre><code class=\"language-javascript\">&lt;Form\n  interceptors={{\n    input: [\n      {\n        name: 'customTrim',\n        exec: value =&gt; value.trim()\n      }\n    ],\n    output: [\n      {\n        name: 'uppercase',\n        exec: value =&gt; value.toUpperCase()\n      }\n    ]\n  }}\n&gt;\n</code></pre>\n<h3>\u5b57\u6bb5\u7ea7\u62e6\u622a\u5668\u914d\u7f6e</h3>\n<pre><code class=\"language-javascript\">&lt;Input\n  name=\"email\"\n  rule=\"EMAIL\"\n  interceptor=\"trim\"  // \u6307\u5b9a\u4f7f\u7528\u7684\u62e6\u622a\u5668\n/&gt;\n</code></pre>\n<h3>\u4f18\u5148\u7ea7</h3>\n<pre><code>\u4f18\u5148\u7ea7\u4ece\u9ad8\u5230\u4f4e\uff1a\n1. \u5b57\u6bb5\u6307\u5b9a\u62e6\u622a\u5668\n2. \u8868\u5355\u7ea7\u62e6\u622a\u5668\n3. \u5168\u5c40\u62e6\u622a\u5668\n\n\u540c\u540d\u62e6\u622a\u5668\uff1a\u540e\u6ce8\u518c\u7684\u8986\u76d6\u5148\u6ce8\u518c\u7684\n</code></pre>\n<h3>\u5e38\u7528\u62e6\u622a\u5668</h3>\n<pre><code class=\"language-javascript\">import { interceptors } from 'react-form';\n\n// \u5e38\u7528\u8f93\u5165\u62e6\u622a\u5668\ninterceptors.input.use('trim', v =&gt; v?.trim?.());\ninterceptors.input.use('toUpperCase', v =&gt; v?.toUpperCase?.());\ninterceptors.input.use('toLowerCase', v =&gt; v?.toLowerCase?.());\ninterceptors.input.use('removeComma', v =&gt; v?.replace?.(/,/g, ''));\n\n// \u5e38\u7528\u8f93\u51fa\u62e6\u622a\u5668\ninterceptors.output.use('toNumber', v =&gt; v ? parseFloat(v) : null);\ninterceptors.output.use('formatCurrency', v =&gt; v ? `\xa5${v.toFixed(2)}` : '\xa50.00');\ninterceptors.output.use('defaultEmpty', v =&gt; v || '');\n</code></pre>\n<h2>\u5206\u7ec4\u7ba1\u7406</h2>\n<h3>GroupList \u7ec4\u4ef6</h3>\n<p>\u7528\u4e8e\u7ba1\u7406\u52a8\u6001\u589e\u5220\u7684\u5206\u7ec4\u5b57\u6bb5\u3002</p>\n<pre><code class=\"language-javascript\">&lt;GroupList ref={ref} name=\"groupName\" defaultLength={2}&gt;\n  {({ index, onAdd, onRemove, length }) =&gt; (\n    // \u5206\u7ec4\u9879\u5185\u5bb9\n  )}\n&lt;/GroupList&gt;\n</code></pre>\n<h3>\u56de\u8c03\u53c2\u6570</h3>\n<table>\n<thead>\n<tr>\n<th>\u53c2\u6570</th>\n<th>\u7c7b\u578b</th>\n<th>\u8bf4\u660e</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>index</code></td>\n<td><code>number</code></td>\n<td>\u5f53\u524d\u9879\u7684\u7d22\u5f15</td>\n</tr>\n<tr>\n<td><code>onAdd</code></td>\n<td><code>Function</code></td>\n<td>\u6dfb\u52a0\u65b0\u9879\u7684\u51fd\u6570</td>\n</tr>\n<tr>\n<td><code>onRemove</code></td>\n<td><code>Function</code></td>\n<td>\u79fb\u9664\u5f53\u524d\u9879\u7684\u51fd\u6570</td>\n</tr>\n<tr>\n<td><code>length</code></td>\n<td><code>number</code></td>\n<td>\u5206\u7ec4\u5f53\u524d\u9879\u6570</td>\n</tr>\n</tbody>\n</table>\n<h2>\u8868\u5355 API</h2>\n<h3>useSubmit Hook</h3>\n<pre><code class=\"language-javascript\">const { isLoading, isPass, onClick } = useSubmit();\n</code></pre>\n<table>\n<thead>\n<tr>\n<th>\u53c2\u6570</th>\n<th>\u7c7b\u578b</th>\n<th>\u8bf4\u660e</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>isLoading</code></td>\n<td><code>boolean</code></td>\n<td>\u63d0\u4ea4\u4e2d\u72b6\u6001</td>\n</tr>\n<tr>\n<td><code>isPass</code></td>\n<td><code>boolean</code></td>\n<td>\u8868\u5355\u662f\u5426\u901a\u8fc7\u9a8c\u8bc1</td>\n</tr>\n<tr>\n<td><code>onClick</code></td>\n<td><code>Function</code></td>\n<td>\u63d0\u4ea4\u51fd\u6570</td>\n</tr>\n</tbody>\n</table>\n<h3>useReset Hook</h3>\n<pre><code class=\"language-javascript\">const { onClick } = useReset();\n</code></pre>\n<table>\n<thead>\n<tr>\n<th>\u53c2\u6570</th>\n<th>\u7c7b\u578b</th>\n<th>\u8bf4\u660e</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>onClick</code></td>\n<td><code>Function</code></td>\n<td>\u91cd\u7f6e\u51fd\u6570</td>\n</tr>\n</tbody>\n</table>\n<h3>useFormApi Hook</h3>\n<pre><code class=\"language-javascript\">const { openApi } = useFormApi();\n</code></pre>\n<h3>openApi \u65b9\u6cd5</h3>\n<table>\n<thead>\n<tr>\n<th>\u7c7b\u522b</th>\n<th>\u65b9\u6cd5</th>\n<th>\u8bf4\u660e</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>\u6570\u636e\u64cd\u4f5c</strong></td>\n<td><code>data</code> / <code>setData()</code></td>\n<td>\u83b7\u53d6/\u8bbe\u7f6e\u8868\u5355\u6570\u636e</td>\n</tr>\n<tr>\n<td></td>\n<td><code>getFormData()</code> / <code>setFormData()</code></td>\n<td>\u83b7\u53d6/\u8bbe\u7f6e\u8868\u5355\u6570\u636e</td>\n</tr>\n<tr>\n<td></td>\n<td><code>getField()</code> / <code>getFields()</code></td>\n<td>\u83b7\u53d6\u5355\u4e2a/\u591a\u4e2a\u5b57\u6bb5</td>\n</tr>\n<tr>\n<td></td>\n<td><code>setField()</code> / <code>setFields()</code></td>\n<td>\u8bbe\u7f6e\u5355\u4e2a/\u591a\u4e2a\u5b57\u6bb5\u5c5e\u6027</td>\n</tr>\n<tr>\n<td></td>\n<td><code>setFieldValue()</code></td>\n<td>\u8bbe\u7f6e\u5b57\u6bb5\u503c</td>\n</tr>\n<tr>\n<td><strong>\u9a8c\u8bc1\u64cd\u4f5c</strong></td>\n<td><code>validateField()</code></td>\n<td>\u9a8c\u8bc1\u5355\u4e2a\u5b57\u6bb5</td>\n</tr>\n<tr>\n<td></td>\n<td><code>validateAll()</code></td>\n<td>\u9a8c\u8bc1\u6240\u6709\u5b57\u6bb5</td>\n</tr>\n<tr>\n<td></td>\n<td><code>setFieldValidate()</code></td>\n<td>\u8bbe\u7f6e\u5b57\u6bb5\u9a8c\u8bc1\u72b6\u6001</td>\n</tr>\n<tr>\n<td></td>\n<td><code>isPass</code></td>\n<td>\u5224\u65ad\u8868\u5355\u662f\u5426\u901a\u8fc7\u9a8c\u8bc1</td>\n</tr>\n<tr>\n<td><strong>\u9519\u8bef\u5904\u7406</strong></td>\n<td><code>errors</code></td>\n<td>\u83b7\u53d6\u6240\u6709\u9519\u8bef\u4fe1\u606f</td>\n</tr>\n<tr>\n<td><strong>\u8868\u5355\u63a7\u5236</strong></td>\n<td><code>submit()</code></td>\n<td>\u63d0\u4ea4\u8868\u5355</td>\n</tr>\n<tr>\n<td></td>\n<td><code>reset()</code></td>\n<td>\u91cd\u7f6e\u8868\u5355</td>\n</tr>\n<tr>\n<td></td>\n<td><code>onReady()</code></td>\n<td>\u8868\u5355\u5c31\u7eea\u56de\u8c03</td>\n</tr>\n<tr>\n<td></td>\n<td><code>onDestroy()</code></td>\n<td>\u8868\u5355\u9500\u6bc1\u56de\u8c03</td>\n</tr>\n</tbody>\n</table>\n<h2>\u4e8b\u4ef6\u7cfb\u7edf</h2>\n<h3>\u4e8b\u4ef6\u7c7b\u578b</h3>\n<table>\n<thead>\n<tr>\n<th>\u4e8b\u4ef6\u540d\u79f0</th>\n<th>\u89e6\u53d1\u65f6\u673a</th>\n<th>\u53c2\u6570</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>form:submit</code></td>\n<td>\u8868\u5355\u63d0\u4ea4\u65f6</td>\n<td>(args) - \u63d0\u4ea4\u53c2\u6570</td>\n</tr>\n<tr>\n<td><code>form:submit:complete</code></td>\n<td>\u63d0\u4ea4\u5b8c\u6210\u65f6</td>\n<td>-</td>\n</tr>\n<tr>\n<td><code>form:reset</code></td>\n<td>\u8868\u5355\u91cd\u7f6e\u65f6</td>\n<td>-</td>\n</tr>\n<tr>\n<td><code>form:validate</code></td>\n<td>\u8868\u5355\u9a8c\u8bc1\u65f6</td>\n<td>-</td>\n</tr>\n<tr>\n<td><code>form:set-data</code></td>\n<td>\u8bbe\u7f6e\u8868\u5355\u6570\u636e\u65f6</td>\n<td>({ data, runValidate })</td>\n</tr>\n<tr>\n<td><code>form:set-fields</code></td>\n<td>\u8bbe\u7f6e\u5b57\u6bb5\u5c5e\u6027\u65f6</td>\n<td>({ data, runValidate })</td>\n</tr>\n<tr>\n<td><code>form-group:change</code></td>\n<td>\u5206\u7ec4\u6570\u636e\u53d8\u5316\u65f6</td>\n<td>({ parentId, name, list })</td>\n</tr>\n<tr>\n<td><code>form-group:remove</code></td>\n<td>\u5206\u7ec4\u79fb\u9664\u65f6</td>\n<td>({ parentId, name })</td>\n</tr>\n<tr>\n<td><code>form-field:validate:{fieldId}</code></td>\n<td>\u5b57\u6bb5\u9a8c\u8bc1\u65f6</td>\n<td>-</td>\n</tr>\n<tr>\n<td><code>form-field:change:{fieldId}</code></td>\n<td>\u5b57\u6bb5\u503c\u53d8\u5316\u65f6</td>\n<td>-</td>\n</tr>\n<tr>\n<td><code>form:mount</code></td>\n<td>\u8868\u5355\u6302\u8f7d\u5b8c\u6210\u65f6</td>\n<td>-</td>\n</tr>\n<tr>\n<td><code>form:unmount</code></td>\n<td>\u8868\u5355\u5378\u8f7d\u65f6</td>\n<td>-</td>\n</tr>\n</tbody>\n</table>\n<h3>\u76d1\u542c\u65b9\u5f0f</h3>\n<pre><code class=\"language-javascript\">// \u5728\u7ec4\u4ef6\u5185\u901a\u8fc7 emitter \u76d1\u542c\nconst { emitter } = useFormContext();\n\n// \u76d1\u542c\u8868\u5355\u63d0\u4ea4\nconst submitListener = emitter.addListener('form:submit', (args) =&gt; {\n  console.log('\u8868\u5355\u63d0\u4ea4', args);\n});\n\n// \u76d1\u542c\u6570\u636e\u53d8\u5316\nconst dataListener = emitter.addListener('form:set-data', ({ data }) =&gt; {\n  console.log('\u6570\u636e\u53d8\u5316', data);\n});\n\n// \u6e05\u7406\u76d1\u542c\u5668\nuseEffect(() =&gt; {\n  return () =&gt; {\n    submitListener.remove();\n    dataListener.remove();\n  };\n}, []);\n</code></pre>\n<h3>\u751f\u547d\u5468\u671f\u94a9\u5b50</h3>\n<pre><code class=\"language-javascript\">const formApiRef = useRef();\nformApiRef.current.onReady(() =&gt; {\n  console.log('\u8868\u5355\u5df2\u5c31\u7eea');\n  // \u53ef\u4ee5\u5728\u8fd9\u91cc\u6267\u884c\u521d\u59cb\u5316\u64cd\u4f5c\n});\n\nformApiRef.current.onDestroy(() =&gt; {\n  console.log('\u8868\u5355\u5373\u5c06\u9500\u6bc1');\n  // \u53ef\u4ee5\u5728\u8fd9\u91cc\u6267\u884c\u6e05\u7406\u64cd\u4f5c\n});\n</code></pre>\n<h2>\u751f\u547d\u5468\u671f</h2>\n<h3>\u8868\u5355\u751f\u547d\u5468\u671f</h3>\n<table>\n<thead>\n<tr>\n<th>\u9636\u6bb5</th>\n<th>\u89e6\u53d1\u65f6\u673a</th>\n<th>\u6267\u884c\u64cd\u4f5c</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u6302\u8f7d</td>\n<td>Form \u7ec4\u4ef6\u9996\u6b21\u6e32\u67d3</td>\n<td>- \u521d\u59cb\u5316 formState (Map \u7ed3\u6784)&lt;br&gt;- \u521b\u5efa\u4e8b\u4ef6\u53d1\u5c04\u5668&lt;br&gt;- \u521d\u59cb\u5316 openApi&lt;br&gt;- \u8bbe\u7f6e\u521d\u59cb\u6570\u636e&lt;br&gt;- \u7ed1\u5b9a\u4e8b\u4ef6\u76d1\u542c\u5668</td>\n</tr>\n<tr>\n<td>\u66f4\u65b0</td>\n<td>Form \u7ec4\u4ef6\u5c5e\u6027\u53d8\u5316</td>\n<td>- \u66f4\u65b0 rules \u914d\u7f6e&lt;br&gt;- \u66f4\u65b0 interceptors \u914d\u7f6e&lt;br&gt;- \u5904\u7406 data \u53d8\u5316</td>\n</tr>\n<tr>\n<td>\u5378\u8f7d</td>\n<td>Form \u7ec4\u4ef6\u9500\u6bc1</td>\n<td>- \u6e05\u7406\u6240\u6709\u4e8b\u4ef6\u76d1\u542c\u5668&lt;br&gt;- \u6e05\u7406\u5f02\u6b65\u4efb\u52a1&lt;br&gt;- \u91ca\u653e\u5185\u5b58\u8d44\u6e90</td>\n</tr>\n</tbody>\n</table>\n<h3>\u5b57\u6bb5\u751f\u547d\u5468\u671f</h3>\n<table>\n<thead>\n<tr>\n<th>\u9636\u6bb5</th>\n<th>\u72b6\u6001</th>\n<th>\u8bf4\u660e</th>\n<th>\u53ef\u6267\u884c\u64cd\u4f5c</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>PRE_INIT</td>\n<td>\u9884\u521d\u59cb\u5316</td>\n<td>\u5b57\u6bb5\u521a\u521b\u5efa\uff0c\u5c1a\u672a\u7ed1\u5b9a\u5230\u8868\u5355\u72b6\u6001</td>\n<td>-</td>\n</tr>\n<tr>\n<td>INIT</td>\n<td>\u5df2\u521d\u59cb\u5316</td>\n<td>\u5b57\u6bb5\u5df2\u6ce8\u518c\u5230\u8868\u5355\uff0c\u53ef\u4ee5\u4ea4\u4e92</td>\n<td>\u83b7\u53d6/\u8bbe\u7f6e\u503c\u3001\u9a8c\u8bc1\u3001\u89e6\u53d1\u4e8b\u4ef6</td>\n</tr>\n</tbody>\n</table>\n<h3>\u5b57\u6bb5\u72b6\u6001\u8f6c\u6362\u6d41\u7a0b</h3>\n<pre><code>\u5b57\u6bb5\u521b\u5efa\n  \u2193\nPRE_INIT (useField \u521d\u59cb\u5316)\n  \u2193\nINIT (\u5b57\u6bb5\u6ce8\u518c\u5230 formState)\n  \u2193\n\u7528\u6237\u4ea4\u4e92\n  \u2193\nPENDING (\u6b63\u5728\u9a8c\u8bc1)\n  \u2193\nPASS \u6216 ERROR (\u9a8c\u8bc1\u7ed3\u679c)\n  \u2193\n\u7528\u6237\u4fee\u6539\u6216\u624b\u52a8\u91cd\u7f6e\n  \u2193\nINIT (\u56de\u5230\u521d\u59cb\u72b6\u6001)\n</code></pre>\n<h3>\u9a8c\u8bc1\u72b6\u6001\u679a\u4e3e</h3>\n<table>\n<thead>\n<tr>\n<th>\u72b6\u6001\u503c</th>\n<th>\u679a\u4e3e\u540d</th>\n<th>\u8bf4\u660e</th>\n<th>UI \u5c55\u793a\u5efa\u8bae</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>0</td>\n<td>INIT</td>\n<td>\u521d\u59cb\u72b6\u6001</td>\n<td>\u4e0d\u663e\u793a\u9519\u8bef\u63d0\u793a</td>\n</tr>\n<tr>\n<td>1</td>\n<td>PASS</td>\n<td>\u9a8c\u8bc1\u901a\u8fc7</td>\n<td>\u4e0d\u663e\u793a\u9519\u8bef\u63d0\u793a</td>\n</tr>\n<tr>\n<td>2</td>\n<td>ERROR</td>\n<td>\u9a8c\u8bc1\u5931\u8d25</td>\n<td>\u663e\u793a\u9519\u8bef\u4fe1\u606f</td>\n</tr>\n<tr>\n<td>3</td>\n<td>PENDING</td>\n<td>\u9a8c\u8bc1\u4e2d</td>\n<td>\u663e\u793a\u52a0\u8f7d\u72b6\u6001</td>\n</tr>\n</tbody>\n</table>",description:"react-form \u662f\u4e00\u4e2a\u8f7b\u91cf\u7ea7\u4e14\u529f\u80fd\u5f3a\u5927\u7684 React \u8868\u5355\u5e93\uff0c\u4e13\u4e3a\u73b0\u4ee3\u5316\u5e94\u7528\u8bbe\u8ba1\uff0c\u63d0\u4f9b\u4e86\u7b80\u6d01\u7684 API \u548c\u5b8c\u6574\u7684\u8868\u5355\u7ba1\u7406\u89e3\u51b3\u65b9\u6848\u3002",packageName:"@kne/react-form",api:'<h3>Form \u7ec4\u4ef6 API</h3>\n<h4>\u5c5e\u6027</h4>\n<table>\n<thead>\n<tr>\n<th>\u5c5e\u6027\u540d</th>\n<th>\u8bf4\u660e</th>\n<th>\u7c7b\u578b</th>\n<th>\u9ed8\u8ba4\u503c</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>data</td>\n<td>\u8868\u5355\u521d\u59cb\u503c</td>\n<td>object</td>\n<td>{}</td>\n</tr>\n<tr>\n<td>rules</td>\n<td>\u81ea\u5b9a\u4e49\u9a8c\u8bc1\u89c4\u5219</td>\n<td>object</td>\n<td>{}</td>\n</tr>\n<tr>\n<td>interceptors</td>\n<td>\u8868\u5355\u62e6\u622a\u5668\u914d\u7f6e</td>\n<td>object</td>\n<td>{}</td>\n</tr>\n<tr>\n<td>debug</td>\n<td>\u662f\u5426\u5f00\u542f\u8c03\u8bd5\u6a21\u5f0f</td>\n<td>boolean</td>\n<td>false</td>\n</tr>\n<tr>\n<td>noFilter</td>\n<td>\u662f\u5426\u5173\u95ed\u7a7a\u503c\u8fc7\u6ee4</td>\n<td>boolean</td>\n<td>false</td>\n</tr>\n<tr>\n<td>onPrevSubmit</td>\n<td>\u63d0\u4ea4\u524d\u56de\u8c03</td>\n<td>function(values, form)</td>\n<td>-</td>\n</tr>\n<tr>\n<td>onSubmit</td>\n<td>\u63d0\u4ea4\u56de\u8c03</td>\n<td>function(values)</td>\n<td>Promise</td>\n</tr>\n<tr>\n<td>onError</td>\n<td>\u9519\u8bef\u56de\u8c03</td>\n<td>function(errors)</td>\n<td>-</td>\n</tr>\n<tr>\n<td>onFormDataChange</td>\n<td>\u8868\u5355\u6570\u636e\u53d8\u5316\u56de\u8c03</td>\n<td>function(formData)</td>\n<td>-</td>\n</tr>\n<tr>\n<td>children</td>\n<td>\u8868\u5355\u5185\u5bb9</td>\n<td>React.ReactNode</td>\n<td>-</td>\n</tr>\n</tbody>\n</table>\n<h4>Ref \u66b4\u9732\u7684\u65b9\u6cd5</h4>\n<table>\n<thead>\n<tr>\n<th>\u65b9\u6cd5\u540d</th>\n<th>\u8bf4\u660e</th>\n<th>\u53c2\u6570</th>\n<th>\u8fd4\u56de\u503c</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>submit</td>\n<td>\u63d0\u4ea4\u8868\u5355</td>\n<td>-</td>\n<td>void</td>\n</tr>\n<tr>\n<td>data</td>\n<td>\u83b7\u53d6\u8868\u5355\u6570\u636e</td>\n<td>-</td>\n<td>object</td>\n</tr>\n<tr>\n<td>set data(data)</td>\n<td>\u8bbe\u7f6e\u8868\u5355\u6570\u636e</td>\n<td>object</td>\n<td>void</td>\n</tr>\n<tr>\n<td>reset</td>\n<td>\u91cd\u7f6e\u8868\u5355</td>\n<td>-</td>\n<td>void</td>\n</tr>\n<tr>\n<td>errors</td>\n<td>\u83b7\u53d6\u9519\u8bef\u4fe1\u606f</td>\n<td>-</td>\n<td>array</td>\n</tr>\n<tr>\n<td>isPass</td>\n<td>\u8868\u5355\u662f\u5426\u901a\u8fc7\u9a8c\u8bc1</td>\n<td>-</td>\n<td>boolean</td>\n</tr>\n<tr>\n<td>setFormData</td>\n<td>\u8bbe\u7f6e\u8868\u5355\u6570\u636e</td>\n<td>(data, runValidate?)</td>\n<td>void</td>\n</tr>\n<tr>\n<td>getFormData</td>\n<td>\u83b7\u53d6\u8868\u5355\u6570\u636e</td>\n<td>-</td>\n<td>object</td>\n</tr>\n<tr>\n<td>setFields</td>\n<td>\u6279\u91cf\u8bbe\u7f6e\u5b57\u6bb5\u5c5e\u6027</td>\n<td>(fields, options?)</td>\n<td>void</td>\n</tr>\n<tr>\n<td>setField</td>\n<td>\u8bbe\u7f6e\u5355\u4e2a\u5b57\u6bb5\u5c5e\u6027</td>\n<td>(field, options?)</td>\n<td>void</td>\n</tr>\n<tr>\n<td>setFieldValue</td>\n<td>\u8bbe\u7f6e\u5b57\u6bb5\u503c</td>\n<td>(target, value, options?)</td>\n<td>void</td>\n</tr>\n<tr>\n<td>setFieldValidate</td>\n<td>\u8bbe\u7f6e\u5b57\u6bb5\u9a8c\u8bc1\u72b6\u6001</td>\n<td>(target, validate)</td>\n<td>void</td>\n</tr>\n<tr>\n<td>getField</td>\n<td>\u83b7\u53d6\u6307\u5b9a\u5b57\u6bb5</td>\n<td>(target)</td>\n<td>Field</td>\n</tr>\n<tr>\n<td>getFields</td>\n<td>\u83b7\u53d6\u5339\u914d\u7684\u5b57\u6bb5\u5217\u8868</td>\n<td>(target)</td>\n<td>Field[]</td>\n</tr>\n<tr>\n<td>validateField</td>\n<td>\u9a8c\u8bc1\u6307\u5b9a\u5b57\u6bb5</td>\n<td>(target)</td>\n<td>void</td>\n</tr>\n<tr>\n<td>validateAll</td>\n<td>\u9a8c\u8bc1\u6240\u6709\u5b57\u6bb5</td>\n<td>-</td>\n<td>void</td>\n</tr>\n<tr>\n<td>onReady</td>\n<td>\u8868\u5355\u5c31\u7eea\u56de\u8c03</td>\n<td>callback</td>\n<td>-</td>\n</tr>\n<tr>\n<td>onDestroy</td>\n<td>\u8868\u5355\u9500\u6bc1\u56de\u8c03</td>\n<td>callback</td>\n<td>-</td>\n</tr>\n</tbody>\n</table>\n<h3>useField Hook API</h3>\n<h4>\u53c2\u6570</h4>\n<table>\n<thead>\n<tr>\n<th>\u53c2\u6570\u540d</th>\n<th>\u8bf4\u660e</th>\n<th>\u7c7b\u578b</th>\n<th>\u9ed8\u8ba4\u503c</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>name</td>\n<td>\u5b57\u6bb5\u540d\u79f0</td>\n<td>string</td>\n<td>-</td>\n</tr>\n<tr>\n<td>label</td>\n<td>\u5b57\u6bb5\u6807\u7b7e</td>\n<td>string</td>\n<td>-</td>\n</tr>\n<tr>\n<td>rule</td>\n<td>\u9a8c\u8bc1\u89c4\u5219\u5b57\u7b26\u4e32</td>\n<td>string</td>\n<td>-</td>\n</tr>\n<tr>\n<td>interceptor</td>\n<td>\u5b57\u6bb5\u62e6\u622a\u5668\u914d\u7f6e</td>\n<td>object</td>\n<td>{}</td>\n</tr>\n<tr>\n<td>associations</td>\n<td>\u5b57\u6bb5\u5173\u8054\u914d\u7f6e</td>\n<td>object</td>\n<td>{}</td>\n</tr>\n<tr>\n<td>noTrim</td>\n<td>\u662f\u5426\u4e0d\u81ea\u52a8\u53bb\u7a7a\u683c</td>\n<td>boolean</td>\n<td>false</td>\n</tr>\n<tr>\n<td>debounce</td>\n<td>\u9632\u6296\u5ef6\u8fdf\u65f6\u95f4</td>\n<td>number</td>\n<td>0</td>\n</tr>\n<tr>\n<td>defaultValue</td>\n<td>\u9ed8\u8ba4\u503c</td>\n<td>any</td>\n<td>-</td>\n</tr>\n<tr>\n<td>errMsg</td>\n<td>\u81ea\u5b9a\u4e49\u9519\u8bef\u4fe1\u606f</td>\n<td>string</td>\n<td>-</td>\n</tr>\n<tr>\n<td>onChange</td>\n<td>\u503c\u53d8\u5316\u56de\u8c03</td>\n<td>function(value)</td>\n<td>-</td>\n</tr>\n</tbody>\n</table>\n<h4>\u8fd4\u56de\u503c</h4>\n<table>\n<thead>\n<tr>\n<th>\u5c5e\u6027\u540d</th>\n<th>\u8bf4\u660e</th>\n<th>\u7c7b\u578b</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>id</td>\n<td>\u5b57\u6bb5\u552f\u4e00\u6807\u8bc6</td>\n<td>string</td>\n</tr>\n<tr>\n<td>name</td>\n<td>\u5b57\u6bb5\u540d\u79f0</td>\n<td>string</td>\n</tr>\n<tr>\n<td>label</td>\n<td>\u5b57\u6bb5\u6807\u7b7e</td>\n<td>string</td>\n</tr>\n<tr>\n<td>value</td>\n<td>\u5b57\u6bb5\u503c</td>\n<td>any</td>\n</tr>\n<tr>\n<td>fieldRef</td>\n<td>\u5b57\u6bb5 ref</td>\n<td>RefObject</td>\n</tr>\n<tr>\n<td>formData</td>\n<td>\u8868\u5355\u6570\u636e</td>\n<td>object</td>\n</tr>\n<tr>\n<td>formState</td>\n<td>\u8868\u5355\u72b6\u6001</td>\n<td>Map</td>\n</tr>\n<tr>\n<td>rule</td>\n<td>\u9a8c\u8bc1\u89c4\u5219</td>\n<td>string</td>\n</tr>\n<tr>\n<td>groupName</td>\n<td>\u5206\u7ec4\u540d\u79f0</td>\n<td>string</td>\n</tr>\n<tr>\n<td>groupIndex</td>\n<td>\u5206\u7ec4\u7d22\u5f15</td>\n<td>number</td>\n</tr>\n<tr>\n<td>onChange</td>\n<td>\u503c\u53d8\u5316\u5904\u7406\u51fd\u6570</td>\n<td>function</td>\n</tr>\n<tr>\n<td>isValueChanged</td>\n<td>\u662f\u5426\u503c\u5df2\u6539\u53d8</td>\n<td>boolean</td>\n</tr>\n<tr>\n<td>triggerValidate</td>\n<td>\u89e6\u53d1\u9a8c\u8bc1</td>\n<td>function</td>\n</tr>\n<tr>\n<td>associationOptions</td>\n<td>\u5173\u8054\u9009\u9879</td>\n<td>object</td>\n</tr>\n<tr>\n<td>errState</td>\n<td>\u9519\u8bef\u72b6\u6001 (0\u672a\u9a8c\u8bc1, 1\u901a\u8fc7, 2\u9519\u8bef, 3\u9a8c\u8bc1\u4e2d)</td>\n<td>number</td>\n</tr>\n<tr>\n<td>errMsg</td>\n<td>\u9519\u8bef\u4fe1\u606f</td>\n<td>string</td>\n</tr>\n</tbody>\n</table>\n<h3>useSubmit Hook API</h3>\n<h4>\u8fd4\u56de\u503c</h4>\n<table>\n<thead>\n<tr>\n<th>\u5c5e\u6027\u540d</th>\n<th>\u8bf4\u660e</th>\n<th>\u7c7b\u578b</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>isLoading</td>\n<td>\u662f\u5426\u6b63\u5728\u63d0\u4ea4</td>\n<td>boolean</td>\n</tr>\n<tr>\n<td>isPass</td>\n<td>\u8868\u5355\u662f\u5426\u901a\u8fc7\u9a8c\u8bc1</td>\n<td>boolean</td>\n</tr>\n<tr>\n<td>onClick</td>\n<td>\u63d0\u4ea4\u70b9\u51fb\u5904\u7406\u51fd\u6570</td>\n<td>function</td>\n</tr>\n</tbody>\n</table>\n<h3>useReset Hook API</h3>\n<h4>\u8fd4\u56de\u503c</h4>\n<table>\n<thead>\n<tr>\n<th>\u5c5e\u6027\u540d</th>\n<th>\u8bf4\u660e</th>\n<th>\u7c7b\u578b</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>onClick</td>\n<td>\u91cd\u7f6e\u70b9\u51fb\u5904\u7406\u51fd\u6570</td>\n<td>function</td>\n</tr>\n</tbody>\n</table>\n<h3>useFormApi Hook API</h3>\n<h4>\u8fd4\u56de\u503c</h4>\n<p>\u4e0e Form \u7ec4\u4ef6 ref \u66b4\u9732\u7684\u65b9\u6cd5\u76f8\u540c\uff0c\u8fd4\u56de openApi \u5bf9\u8c61\u3002</p>\n<h3>Group \u7ec4\u4ef6 API</h3>\n<h4>\u5c5e\u6027</h4>\n<table>\n<thead>\n<tr>\n<th>\u5c5e\u6027\u540d</th>\n<th>\u8bf4\u660e</th>\n<th>\u7c7b\u578b</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>id</td>\n<td>\u5206\u7ec4\u552f\u4e00\u6807\u8bc6</td>\n<td>string</td>\n</tr>\n<tr>\n<td>name</td>\n<td>\u5206\u7ec4\u540d\u79f0</td>\n<td>string</td>\n</tr>\n<tr>\n<td>defaultValue</td>\n<td>\u5206\u7ec4\u9ed8\u8ba4\u503c</td>\n<td>object</td>\n</tr>\n<tr>\n<td>children</td>\n<td>\u6e32\u67d3\u51fd\u6570</td>\n<td>function({ id, name, group, index })</td>\n</tr>\n</tbody>\n</table>\n<h4>children \u53c2\u6570</h4>\n<table>\n<thead>\n<tr>\n<th>\u53c2\u6570\u540d</th>\n<th>\u8bf4\u660e</th>\n<th>\u7c7b\u578b</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>id</td>\n<td>\u5206\u7ec4\u552f\u4e00\u6807\u8bc6</td>\n<td>string</td>\n</tr>\n<tr>\n<td>name</td>\n<td>\u5b8c\u6574\u5206\u7ec4\u540d\u79f0</td>\n<td>string</td>\n</tr>\n<tr>\n<td>group</td>\n<td>\u5206\u7ec4\u6570\u636e</td>\n<td>object</td>\n</tr>\n<tr>\n<td>index</td>\n<td>\u5206\u7ec4\u7d22\u5f15</td>\n<td>number</td>\n</tr>\n</tbody>\n</table>\n<h3>GroupList \u7ec4\u4ef6 API</h3>\n<h4>\u5c5e\u6027</h4>\n<table>\n<thead>\n<tr>\n<th>\u5c5e\u6027\u540d</th>\n<th>\u8bf4\u660e</th>\n<th>\u7c7b\u578b</th>\n<th>\u9ed8\u8ba4\u503c</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>name</td>\n<td>\u5206\u7ec4\u5217\u8868\u540d\u79f0</td>\n<td>string</td>\n<td>-</td>\n</tr>\n<tr>\n<td>defaultLength</td>\n<td>\u521d\u59cb\u5206\u7ec4\u6570\u91cf</td>\n<td>number</td>\n<td>1</td>\n</tr>\n<tr>\n<td>empty</td>\n<td>\u7a7a\u5217\u8868\u65f6\u663e\u793a\u7684\u5185\u5bb9</td>\n<td>ReactNode</td>\n<td>-</td>\n</tr>\n<tr>\n<td>reverseOrder</td>\n<td>\u662f\u5426\u5012\u5e8f\u663e\u793a</td>\n<td>boolean</td>\n<td>true</td>\n</tr>\n<tr>\n<td>children</td>\n<td>\u6e32\u67d3\u51fd\u6570</td>\n<td>function</td>\n<td>-</td>\n</tr>\n<tr>\n<td>ref</td>\n<td>ref \u5bf9\u8c61</td>\n<td>RefObject</td>\n<td>-</td>\n</tr>\n</tbody>\n</table>\n<h4>children \u53c2\u6570</h4>\n<table>\n<thead>\n<tr>\n<th>\u53c2\u6570\u540d</th>\n<th>\u8bf4\u660e</th>\n<th>\u7c7b\u578b</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>id</td>\n<td>\u5206\u7ec4\u9879\u552f\u4e00\u6807\u8bc6</td>\n<td>string</td>\n</tr>\n<tr>\n<td>index</td>\n<td>\u5206\u7ec4\u9879\u7d22\u5f15</td>\n<td>number</td>\n</tr>\n<tr>\n<td>length</td>\n<td>\u5206\u7ec4\u5217\u8868\u603b\u957f\u5ea6</td>\n<td>number</td>\n</tr>\n<tr>\n<td>onAdd</td>\n<td>\u6dfb\u52a0\u5206\u7ec4\u9879</td>\n<td>function(options)</td>\n</tr>\n<tr>\n<td>onRemove</td>\n<td>\u5220\u9664\u5f53\u524d\u5206\u7ec4\u9879</td>\n<td>function</td>\n</tr>\n</tbody>\n</table>\n<h4>ref \u66b4\u9732\u7684\u65b9\u6cd5</h4>\n<table>\n<thead>\n<tr>\n<th>\u65b9\u6cd5\u540d</th>\n<th>\u8bf4\u660e</th>\n<th>\u53c2\u6570</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>onAdd</td>\n<td>\u6dfb\u52a0\u5206\u7ec4\u9879</td>\n<td>function({ isUnshift?, defaultValue? })</td>\n</tr>\n<tr>\n<td>onRemove</td>\n<td>\u5220\u9664\u5206\u7ec4\u9879</td>\n<td>function(id)</td>\n</tr>\n</tbody>\n</table>\n<h3>\u5185\u7f6e\u9a8c\u8bc1\u89c4\u5219</h3>\n<table>\n<thead>\n<tr>\n<th>\u89c4\u5219\u540d</th>\n<th>\u8bf4\u660e</th>\n<th>\u683c\u5f0f</th>\n<th>\u793a\u4f8b</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>REQ</td>\n<td>\u5fc5\u586b\u9a8c\u8bc1</td>\n<td>REQ</td>\n<td>rule="REQ"</td>\n</tr>\n<tr>\n<td>TEL</td>\n<td>\u624b\u673a\u53f7\u9a8c\u8bc1</td>\n<td>TEL</td>\n<td>rule="TEL"</td>\n</tr>\n<tr>\n<td>EMAIL</td>\n<td>\u90ae\u7bb1\u9a8c\u8bc1</td>\n<td>EMAIL</td>\n<td>rule="EMAIL"</td>\n</tr>\n<tr>\n<td>LEN</td>\n<td>\u957f\u5ea6\u9a8c\u8bc1</td>\n<td>LEN-{min}-{max}</td>\n<td>rule="LEN-3-10"</td>\n</tr>\n</tbody>\n</table>\n<h4>\u9a8c\u8bc1\u89c4\u5219\u683c\u5f0f\u8bf4\u660e</h4>\n<ul>\n<li>\u9a8c\u8bc1\u89c4\u5219\u901a\u8fc7\u7a7a\u683c\u5206\u9694\uff0c\u53ef\u7ec4\u5408\u591a\u4e2a\u89c4\u5219</li>\n<li>LEN \u89c4\u5219\u683c\u5f0f\uff1aLEN-{\u6700\u5c0f\u957f\u5ea6}-{\u6700\u5927\u957f\u5ea6}\uff0c\u82e5\u6700\u5c0f\u7b49\u4e8e\u6700\u5927\u5219\u8868\u793a\u7cbe\u786e\u957f\u5ea6</li>\n</ul>\n<h3>\u5168\u5c40\u62e6\u622a\u5668 API</h3>\n<h4>\u6ce8\u518c\u62e6\u622a\u5668</h4>\n<table>\n<thead>\n<tr>\n<th>\u65b9\u6cd5\u540d</th>\n<th>\u8bf4\u660e</th>\n<th>\u53c2\u6570</th>\n<th>\u8fd4\u56de\u503c</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>interceptors.input.use</td>\n<td>\u6ce8\u518c\u8f93\u5165\u62e6\u622a\u5668</td>\n<td>(name, function)</td>\n<td>number</td>\n</tr>\n<tr>\n<td>interceptors.output.use</td>\n<td>\u6ce8\u518c\u8f93\u51fa\u62e6\u622a\u5668</td>\n<td>(name, function)</td>\n<td>number</td>\n</tr>\n</tbody>\n</table>\n<h4>\u4f7f\u7528\u793a\u4f8b</h4>\n<pre><code class="language-javascript">import { interceptors } from \'@kne/react-form\';\n\n// \u6ce8\u518c\u8f93\u5165\u62e6\u622a\u5668\uff08\u5728\u503c\u5b58\u5165\u8868\u5355\u524d\u6267\u884c\uff09\ninterceptors.input.use(\'trim\', value =&gt; value.trim());\ninterceptors.input.use(\'number\', value =&gt; Number(value));\n\n// \u6ce8\u518c\u8f93\u51fa\u62e6\u622a\u5668\uff08\u5728\u503c\u4ece\u8868\u5355\u53d6\u51fa\u65f6\u6267\u884c\uff09\ninterceptors.output.use(\'formatDate\', value =&gt; {\n  return value ? new Date(value).toISOString() : value;\n});\n</code></pre>',example:{isFull:!1,className:"react_form_5f21f",style:"",list:[{title:"\u57fa\u672c\u793a\u4f8b",description:"\u5c55\u793a\u57fa\u672c\u7684\u8868\u5355\u4f7f\u7528\u65b9\u5f0f\uff0c\u5305\u62ec\u8868\u5355\u7ed1\u5b9a\u3001\u9a8c\u8bc1\u89c4\u5219\u3001\u63d0\u4ea4\u548c\u91cd\u7f6e",code:'const { default: ReactForm, useField, useSubmit, useReset } = _ReactForm;\nconst { Input: AntInput, Button, Space, Card, Alert, Typography, message } = antd;\nconst { Text } = Typography;\n\n// ========================================\n// \u901a\u7528\u7ec4\u4ef6\n// ========================================\n\nconst Input = props => {\n  const fieldProps = useField(props);\n  const isError = fieldProps.errState === 2;\n  const isValidating = fieldProps.errState === 3;\n\n  return (\n    <div style={{ marginBottom: 16 }}>\n      <div style={{ marginBottom: 4 }}>\n        <Text type={isError ? \'danger\' : undefined}>{fieldProps.label}</Text>\n      </div>\n      <div>\n        <AntInput\n          ref={fieldProps.fieldRef}\n          type={props.type || \'text\'}\n          value={fieldProps.value || \'\'}\n          onChange={e => {\n            fieldProps.onChange(e.target.value);\n            fieldProps.triggerValidate();\n          }}\n          onBlur={fieldProps.triggerValidate}\n          placeholder={props.placeholder}\n          status={isError ? \'error\' : undefined}\n          style={{ width: props.width || 200 }}\n        />\n        {fieldProps.errMsg && (\n          <Text type="danger" style={{ marginLeft: 8, fontSize: 12 }}>\n            {fieldProps.errMsg}\n          </Text>\n        )}\n        {isValidating && (\n          <Text type="secondary" style={{ marginLeft: 8, fontSize: 12 }}>\n            \u9a8c\u8bc1\u4e2d...\n          </Text>\n        )}\n      </div>\n    </div>\n  );\n};\n\nconst SubmitButton = ({ children, isPassButton = false }) => {\n  const { isLoading, isPass, onClick } = useSubmit();\n  return (\n    <Button\n      type="primary"\n      onClick={onClick}\n      disabled={isPassButton ? (isLoading || !isPass) : isLoading}\n      loading={isLoading}\n    >\n      {children}\n    </Button>\n  );\n};\n\nconst ResetButton = () => {\n  const { onClick } = useReset();\n  return <Button onClick={onClick}>\u91cd\u7f6e</Button>;\n};\n\n// ========================================\n// \u57fa\u672c\u8868\u5355\u793a\u4f8b\n// ========================================\n\nconst BaseExample = () => {\n  return (\n    <Card title="\u57fa\u672c\u8868\u5355\u793a\u4f8b" style={{ marginBottom: 24 }}>\n      <ReactForm\n        debug\n        data={{ name: \'\u54c8\u54c8\u54c8\' }}\n        onSubmit={async data => {\n          await new Promise(resolve => {\n            setTimeout(() => {\n              resolve();\n            }, 3000);\n          });\n          console.log(\'submit:\', data);\n          message.success(\'\u63d0\u4ea4\u6210\u529f: \' + JSON.stringify(data, null, 2));\n        }}\n      >\n        <Input name="name" label="\u540d\u79f0" rule="REQ LEN-0-10" />\n        <Input name="email" label="\u90ae\u7bb1" rule="REQ EMAIL" />\n        <Input name="phone" label="\u624b\u673a\u53f7" rule="REQ TEL" />\n        <Space>\n          <SubmitButton>\u63d0\u4ea4</SubmitButton>\n          <ResetButton />\n        </Space>\n      </ReactForm>\n    </Card>\n  );\n};\n\n// ========================================\n// isPass \u6d4b\u8bd5\u793a\u4f8b\n// ========================================\n\nconst IsPassStatusDisplay = () => {\n  const { isPass } = useSubmit();\n  return (\n    <Alert\n      message={`\u8868\u5355\u9a8c\u8bc1\u72b6\u6001\uff1a${isPass ? \'\u5168\u90e8\u901a\u8fc7\' : \'\u5b58\u5728\u9519\u8bef\'}`}\n      description={isPass ? \'\u6240\u6709\u5b57\u6bb5\u9a8c\u8bc1\u901a\u8fc7\uff0c\u53ef\u4ee5\u63d0\u4ea4\' : \'\u8bf7\u68c0\u67e5\u5e76\u4fee\u6b63\u9519\u8bef\u4fe1\u606f\'}\n      type={isPass ? \'success\' : \'error\'}\n      showIcon\n      style={{ marginBottom: 20 }}\n    />\n  );\n};\n\nconst IsPassExample = () => {\n  return (\n    <Card title="isPass \u6d4b\u8bd5\u793a\u4f8b" extra={\n      <Text type="secondary" style={{ fontSize: 12 }}>\n        \u6240\u6709\u5b57\u6bb5\u5728\u8f93\u5165\u505c\u6b62\u540e\uff08\u5931\u7126\uff09\u89e6\u53d1\u6821\u9a8c\n      </Text>\n    }>\n      <ReactForm\n        debug\n        data={{\n          username: \'\',\n          email: \'\',\n          password: \'\',\n          confirmPassword: \'\',\n          age: \'\'\n        }}\n        onSubmit={async data => {\n          await new Promise(resolve => {\n            setTimeout(() => {\n              resolve();\n            }, 1000);\n          });\n          console.log(\'submit:\', data);\n          message.success(\'\u63d0\u4ea4\u6210\u529f: \' + JSON.stringify(data, null, 2));\n        }}\n      >\n        <IsPassStatusDisplay />\n\n        <div style={{ marginBottom: 16 }}>\n          <Text strong>\u57fa\u672c\u4fe1\u606f</Text>\n        </div>\n        <Input\n          name="username"\n          label="\u7528\u6237\u540d"\n          rule="REQ LEN-3-20"\n          placeholder="\u8bf7\u8f93\u5165\u7528\u6237\u540d\uff083-20\u5b57\u7b26\uff09"\n          width={250}\n        />\n        <Input\n          name="email"\n          label="\u90ae\u7bb1"\n          rule="REQ EMAIL"\n          placeholder="\u8bf7\u8f93\u5165\u90ae\u7bb1\u5730\u5740"\n          width={250}\n        />\n        <Input\n          name="age"\n          label="\u5e74\u9f84"\n          rule="REQ LEN-1-3"\n          placeholder="\u8bf7\u8f93\u5165\u5e74\u9f84\uff081-3\u4f4d\u6570\u5b57\uff09"\n          width={250}\n        />\n\n        <div style={{ marginBottom: 16, marginTop: 16 }}>\n          <Text strong>\u5b89\u5168\u4fe1\u606f</Text>\n        </div>\n        <Input\n          name="password"\n          label="\u5bc6\u7801"\n          rule="REQ LEN-6-20"\n          placeholder="\u8bf7\u8f93\u5165\u5bc6\u7801\uff086-20\u5b57\u7b26\uff09"\n          type="password"\n          width={250}\n        />\n        <Input\n          name="confirmPassword"\n          label="\u786e\u8ba4\u5bc6\u7801"\n          rule="REQ LEN-6-20"\n          placeholder="\u8bf7\u518d\u6b21\u8f93\u5165\u5bc6\u7801"\n          type="password"\n          width={250}\n        />\n\n        <SubmitButton isPassButton>\u63d0\u4ea4\u6ce8\u518c</SubmitButton>\n      </ReactForm>\n    </Card>\n  );\n};\n\n// ========================================\n// \u4e3b\u7ec4\u4ef6\n// ========================================\n\nconst App = () => {\n  return (\n    <div style={{ padding: 24, background: \'#f5f5f5\', minHeight: \'100vh\' }}>\n      <Space direction="vertical" style={{ width: \'100%\' }} size="large">\n        <BaseExample />\n        <IsPassExample />\n      </Space>\n    </div>\n  );\n};\n\nrender(<App />);\n\n',scope:[{name:"_ReactForm",packageName:"@kne/current-lib_react-form",component:d},{name:"antd",packageName:"antd",component:r}]},{title:"ref \u64cd\u4f5c API",description:"\u901a\u8fc7 ref \u8bbf\u95ee\u8868\u5355\u7684 openApi\uff0c\u5b9e\u73b0\u6570\u636e\u83b7\u53d6\u3001\u5b57\u6bb5\u8bbe\u7f6e\u3001\u9a8c\u8bc1\u63a7\u5236\u7b49\u64cd\u4f5c",code:"const { default: ReactForm, useField, useSubmit, useReset } = _ReactForm;\nconst { useRef } = React;\nconst { Button, Space, Card, Input: AntInput, Divider, Typography, message } = antd;\nconst { Text } = Typography;\n\nconst Input = props => {\n  const fieldProps = useField(props);\n  const isError = fieldProps.errState === 2;\n  const isValidating = fieldProps.errState === 3;\n\n  return (\n    <div style={{ marginBottom: 16 }}>\n      <div style={{ marginBottom: 4 }}>\n        <Text type={isError ? 'danger' : undefined}>{fieldProps.label}</Text>\n      </div>\n      <div>\n        <AntInput\n          ref={fieldProps.fieldRef}\n          type=\"text\"\n          value={fieldProps.value || ''}\n          onChange={e => fieldProps.onChange(e.target.value)}\n          onBlur={fieldProps.triggerValidate}\n          status={isError ? 'error' : undefined}\n          style={{ width: 200 }}\n        />\n        {fieldProps.errMsg && (\n          <Text type=\"danger\" style={{ marginLeft: 8, fontSize: 12 }}>\n            {fieldProps.errMsg}\n          </Text>\n        )}\n        {isValidating && (\n          <Text type=\"secondary\" style={{ marginLeft: 8, fontSize: 12 }}>\n            \u9a8c\u8bc1\u4e2d...\n          </Text>\n        )}\n      </div>\n    </div>\n  );\n};\n\nconst SubmitButton = ({ children }) => {\n  const { isLoading, onClick } = useSubmit();\n  return (\n    <Button type=\"primary\" onClick={onClick} loading={isLoading} style={{ marginRight: 8 }}>\n      {children}\n    </Button>\n  );\n};\n\nconst ResetButton = () => {\n  const { onClick } = useReset();\n  return <Button onClick={onClick}>\u91cd\u7f6e</Button>;\n};\n\nconst BaseExample = () => {\n  const formApiRef = useRef();\n  return (\n    <div style={{ padding: 24, background: '#f5f5f5', minHeight: '100vh' }}>\n      <Card title=\"ref \u64cd\u4f5c API \u793a\u4f8b\" bordered={false}>\n        <Card type=\"inner\" title=\"\u64cd\u4f5c\u9762\u677f\" style={{ marginBottom: 16 }}>\n          <Space wrap>\n            <Button type=\"primary\" onClick={() => {\n              const data = formApiRef.current.data;\n              console.log('\u8868\u5355\u6570\u636e:', data);\n              message.success('\u8bf7\u67e5\u770b\u63a7\u5236\u53f0');\n            }}>\n              \u83b7\u53d6\u8868\u5355\u503c\n            </Button>\n            <Button onClick={() => {\n              formApiRef.current.setField({ name: 'name', value: '\u8bbe\u7f6e\u7684\u65b0\u540d\u79f0' });\n            }}>\n              \u8bbe\u7f6e name \u5b57\u6bb5\u503c\n            </Button>\n            <Button onClick={() => {\n              formApiRef.current.setFields([\n                { name: 'name', value: '\u5f20\u4e09' },\n                { name: 'email', value: 'zhangsan@example.com' },\n                { name: 'phone', value: '13800138000' }\n              ]);\n            }}>\n              \u6279\u91cf\u8bbe\u7f6e\u5b57\u6bb5\u503c\n            </Button>\n            <Button danger onClick={() => {\n              formApiRef.current.setFieldValidate({\n                name: 'email',\n                validate: { status: 2, msg: '\u90ae\u7bb1\u683c\u5f0f\u4e0d\u6b63\u786e' }\n              });\n            }}>\n              \u8bbe\u7f6e\u6821\u9a8c\u9519\u8bef\n            </Button>\n            <Button onClick={() => {\n              formApiRef.current.reset();\n            }}>\n              \u91cd\u7f6e\u8868\u5355\n            </Button>\n          </Space>\n        </Card>\n\n        <ReactForm ref={formApiRef}>\n          <Input name=\"name\" label=\"\u59d3\u540d\" rule=\"REQ LEN-0-10\" />\n          <Input name=\"email\" label=\"\u90ae\u7bb1\" rule=\"REQ EMAIL\" />\n          <Input name=\"phone\" label=\"\u624b\u673a\u53f7\" rule=\"REQ TEL\" />\n          <div>\n            <Space>\n              <SubmitButton>\u63d0\u4ea4</SubmitButton>\n              <ResetButton />\n            </Space>\n          </div>\n        </ReactForm>\n      </Card>\n    </div>\n  );\n};\n\nrender(<BaseExample />);\n\n",scope:[{name:"_ReactForm",packageName:"@kne/current-lib_react-form",component:d},{name:"antd",packageName:"antd",component:r}]},{title:"useFormApi Hook",description:"\u4f7f\u7528 useFormApi Hook \u5728\u8868\u5355\u5185\u90e8\u8bbf\u95ee\u548c\u63a7\u5236\u8868\u5355\u72b6\u6001",code:"const { default: ReactForm, useField, useSubmit, useReset, useFormApi } = _ReactForm;\nconst { useRef } = React;\nconst { Button, Space, Card, Input: AntInput, Divider, Typography, message } = antd;\nconst { Text } = Typography;\n\nconst Input = props => {\n  const fieldProps = useField(props);\n  const isError = fieldProps.errState === 2;\n  const isValidating = fieldProps.errState === 3;\n\n  return (\n    <div style={{ marginBottom: 16 }}>\n      <div style={{ marginBottom: 4 }}>\n        <Text type={isError ? 'danger' : undefined}>{fieldProps.label}</Text>\n      </div>\n      <div>\n        <AntInput\n          ref={fieldProps.fieldRef}\n          type=\"text\"\n          value={fieldProps.value || ''}\n          onChange={e => fieldProps.onChange(e.target.value)}\n          onBlur={fieldProps.triggerValidate}\n          status={isError ? 'error' : undefined}\n          style={{ width: 200 }}\n        />\n        {fieldProps.errMsg && (\n          <Text type=\"danger\" style={{ marginLeft: 8, fontSize: 12 }}>\n            {fieldProps.errMsg}\n          </Text>\n        )}\n        {isValidating && (\n          <Text type=\"secondary\" style={{ marginLeft: 8, fontSize: 12 }}>\n            \u9a8c\u8bc1\u4e2d...\n          </Text>\n        )}\n      </div>\n    </div>\n  );\n};\n\nconst SubmitButton = ({ children }) => {\n  const { isLoading, onClick } = useSubmit();\n  return (\n    <Button type=\"primary\" onClick={onClick} loading={isLoading} style={{ marginRight: 8 }}>\n      {children}\n    </Button>\n  );\n};\n\nconst ResetButton = () => {\n  const { onClick } = useReset();\n  return <Button onClick={onClick}>\u91cd\u7f6e</Button>;\n};\n\nconst Options = () => {\n  const { openApi: formApi } = useFormApi();\n\n  return (\n    <Card type=\"inner\" title=\"\u64cd\u4f5c\u9762\u677f (useFormApi)\" style={{ marginBottom: 16 }}>\n      <Space wrap>\n        <Button type=\"primary\" onClick={() => {\n          const data = formApi.getFormData();\n          console.log('\u8868\u5355\u6570\u636e:', data);\n          message.success('\u8bf7\u67e5\u770b\u63a7\u5236\u53f0');\n        }}>\n          \u83b7\u53d6\u8868\u5355\u503c\n        </Button>\n        <Button onClick={() => {\n          formApi.setField({ name: 'name', value: '\u4fee\u6539\u540e\u7684\u59d3\u540d' });\n        }}>\n          \u8bbe\u7f6e name \u5b57\u6bb5\n        </Button>\n        <Button onClick={() => {\n          formApi.setFields([\n            { name: 'name', value: '\u674e\u56db' },\n            { name: 'email', value: 'lisi@example.com' },\n            { name: 'phone', value: '13900139000' }\n          ]);\n        }}>\n          \u6279\u91cf\u8bbe\u7f6e\u5b57\u6bb5\n        </Button>\n        <Button danger onClick={() => {\n          formApi.setFieldValidate({\n            name: 'phone',\n            validate: { status: 2, msg: '\u624b\u673a\u53f7\u683c\u5f0f\u9519\u8bef' }\n          });\n        }}>\n          \u8bbe\u7f6e\u9a8c\u8bc1\u9519\u8bef\n        </Button>\n        <Button onClick={() => {\n          formApi.reset();\n        }}>\n          \u91cd\u7f6e\u8868\u5355\n        </Button>\n      </Space>\n    </Card>\n  );\n};\n\nconst BaseExample = () => {\n  const formApiRef = useRef();\n  return (\n    <div style={{ padding: 24, background: '#f5f5f5', minHeight: '100vh' }}>\n      <Card title=\"useFormApi Hook \u793a\u4f8b\" bordered={false}>\n        <ReactForm ref={formApiRef}>\n          <Options />\n          <Input name=\"name\" label=\"\u59d3\u540d\" rule=\"REQ LEN-0-10\" />\n          <Input name=\"email\" label=\"\u90ae\u7bb1\" rule=\"REQ EMAIL\" />\n          <Input name=\"phone\" label=\"\u624b\u673a\u53f7\" rule=\"REQ TEL\" />\n          <div>\n            <Space>\n              <SubmitButton>\u63d0\u4ea4</SubmitButton>\n              <ResetButton />\n            </Space>\n          </div>\n        </ReactForm>\n      </Card>\n    </div>\n  );\n};\n\nrender(<BaseExample />);\n\n",scope:[{name:"_ReactForm",packageName:"@kne/current-lib_react-form",component:d},{name:"antd",packageName:"antd",component:r}]},{title:"\u52a8\u6001\u5206\u7ec4",description:"\u4f7f\u7528 Group \u548c GroupList \u5b9e\u73b0\u52a8\u6001\u589e\u5220\u7684\u8868\u5355\u5206\u7ec4\uff0c\u652f\u6301\u5d4c\u5957\u5206\u7ec4",code:"const { default: ReactForm, useField, useSubmit, useReset, GroupList } = _ReactForm;\nconst { useRef } = React;\nconst { Button, Space, Card, Input: AntInput, Tag, Typography, message } = antd;\nconst { Text } = Typography;\n\nconst Input = props => {\n  const fieldProps = useField(props);\n  const isError = fieldProps.errState === 2;\n  const isValidating = fieldProps.errState === 3;\n\n  return (\n    <div style={{ marginBottom: 8 }}>\n      <div style={{ marginBottom: 4 }}>\n        <Text type={isError ? 'danger' : undefined} style={{ fontSize: 12 }}>\n          {fieldProps.label}\n        </Text>\n      </div>\n      <div>\n        <AntInput\n          ref={fieldProps.fieldRef}\n          type=\"text\"\n          value={fieldProps.value || ''}\n          onChange={e => fieldProps.onChange(e.target.value)}\n          onBlur={fieldProps.triggerValidate}\n          status={isError ? 'error' : undefined}\n          size=\"small\"\n          style={{ width: 120 }}\n        />\n        {fieldProps.errMsg && (\n          <Text type=\"danger\" style={{ marginLeft: 4, fontSize: 12 }}>\n            {fieldProps.errMsg}\n          </Text>\n        )}\n        {isValidating && (\n          <Text type=\"secondary\" style={{ marginLeft: 4, fontSize: 12 }}>\n            \u9a8c\u8bc1\u4e2d...\n          </Text>\n        )}\n      </div>\n    </div>\n  );\n};\n\nconst SubmitButton = ({ children }) => {\n  const { isLoading, onClick } = useSubmit();\n  return (\n    <Button type=\"primary\" onClick={onClick} loading={isLoading} style={{ marginRight: 8 }}>\n      {children}\n    </Button>\n  );\n};\n\nconst ResetButton = () => {\n  const { onClick } = useReset();\n  return <Button onClick={onClick}>\u91cd\u7f6e</Button>;\n};\n\nconst ChildrenGroup = () => {\n  const ref = useRef(null);\n  return (\n    <div style={{ marginTop: 12 }}>\n      <div style={{ fontSize: 12, color: '#666', marginBottom: 8 }}>\u5b50\u5206\u7ec4\uff1a</div>\n      <GroupList ref={ref} name=\"inner\" defaultLength={0} reverseOrder={false}>\n        {({ index: innerIndex, onRemove: innerRemove, length: innerLength }) => {\n          return (\n            <div\n              key={innerIndex}\n              style={{\n                padding: 12,\n                marginBottom: 8,\n                background: '#e8e8e8',\n                borderRadius: 4\n              }}>\n              <div style={{ display: 'flex', gap: 8, alignItems: 'center' }}>\n                <span style={{ fontSize: 12 }}>\u5b50\u9879 {innerIndex + 1}</span>\n                <Input name=\"detail\" label=\"\u8be6\u60c5\" rule=\"LEN-0-20\" />\n                <Button size=\"small\" danger onClick={innerRemove}>\n                  \u5220\u9664\n                </Button>\n              </div>\n            </div>\n          );\n        }}\n      </GroupList>\n      <div style={{ marginTop: 8 }}>\n        <Button size=\"small\" onClick={() => ref.current.onAdd()}>\n          \u6dfb\u52a0\u5b50\u9879\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nconst BaseExample = () => {\n  const ref = useRef();\n  const formApiRef = useRef();\n\n  return (\n    <div style={{ padding: 24, background: '#f5f5f5', minHeight: '100vh' }}>\n      <Card title=\"\u52a8\u6001\u5206\u7ec4\u793a\u4f8b\" bordered={false}>\n        <Space wrap style={{ marginBottom: 20 }}>\n          <Button\n            type=\"primary\"\n            onClick={() => {\n              formApiRef.current.setField({\n                name: 'name',\n                groupName: 'group',\n                groupIndex: 0,\n                value: '\u7b2c\u4e00\u9879\u540d\u79f0'\n              });\n            }}>\n            \u8bbe\u7f6e\u7b2c\u4e00\u9879\u540d\u79f0\n          </Button>\n          <Button\n            onClick={() => {\n              formApiRef.current.setField({\n                name: 'name',\n                groupName: 'group',\n                value: '\u6240\u6709\u9879\u540d\u79f0'\n              });\n            }}>\n            \u8bbe\u7f6e\u6240\u6709\u9879\u540d\u79f0\n          </Button>\n          <Button\n            onClick={() => {\n              formApiRef.current.setFormData({\n                group: [\n                  { name: '\u5f20\u4e09', des: '\u63cf\u8ff01' },\n                  { name: '\u674e\u56db', des: '\u63cf\u8ff02' },\n                  { name: '\u738b\u4e94', des: '\u63cf\u8ff03' }\n                ]\n              });\n            }}>\n            \u6279\u91cf\u8bbe\u7f6e\u6570\u636e\n          </Button>\n        </Space>\n        <ReactForm\n          ref={formApiRef}\n          onSubmit={data => {\n            console.log('submit:', data);\n            message.success('\u63d0\u4ea4\u6210\u529f: ' + JSON.stringify(data, null, 2));\n          }}>\n          <div style={{ marginBottom: 16 }}>\n            <Button type=\"primary\" onClick={() => ref.current.onAdd()}>\n              \u6dfb\u52a0\n            </Button>\n          </div>\n\n          <GroupList ref={ref} name=\"group\" defaultLength={1}>\n            {({ index, onRemove, length }) => {\n              return (\n                <div\n                  key={index}\n                  style={{\n                    padding: 16,\n                    marginBottom: 16,\n                    border: '1px solid #ddd',\n                    borderRadius: 8,\n                    background: '#fafafa'\n                  }}>\n                  <div style={{ fontWeight: 'bold', marginBottom: 12 }}>\n                    \u8054\u7cfb\u4eba {index + 1} (\u5171 {length} \u9879)\n                  </div>\n                  <div style={{ display: 'flex', gap: 16, flexWrap: 'wrap' }}>\n                    <Input name=\"name\" label=\"\u59d3\u540d\" rule=\"REQ LEN-0-10\" />\n                    <Input name=\"phone\" label=\"\u624b\u673a\u53f7\" rule=\"TEL\" />\n                    <Input name=\"email\" label=\"\u90ae\u7bb1\" rule=\"EMAIL\" />\n                  </div>\n\n                  <ChildrenGroup key={index}/>\n\n                  <div style={{ marginTop: 12 }}>\n                    <Button danger size=\"small\" onClick={onRemove}>\n                      \u5220\u9664\u8054\u7cfb\u4eba {index + 1}\n                    </Button>\n                  </div>\n                </div>\n              );\n            }}\n          </GroupList>\n\n          <div style={{ marginTop: 20 }}>\n            <Space>\n              <SubmitButton>\u63d0\u4ea4</SubmitButton>\n              <ResetButton />\n            </Space>\n          </div>\n        </ReactForm>\n      </Card>\n    </div>\n  );\n};\n\nrender(<BaseExample />);\n\n",scope:[{name:"_ReactForm",packageName:"@kne/current-lib_react-form",component:d},{name:"antd",packageName:"antd",component:r}]},{title:"\u5b57\u6bb5\u5173\u8054",description:"\u901a\u8fc7 associations \u5b9e\u73b0\u5b57\u6bb5\u95f4\u7684\u8054\u52a8\u5173\u7cfb\uff0c\u652f\u6301\u5355\u5b57\u6bb5\u8054\u52a8\u3001\u591a\u5b57\u6bb5\u8054\u52a8\u3001\u5206\u7ec4\u8054\u52a8\u548c\u8ba1\u7b97\u8054\u52a8",code:'const { default: ReactForm, useField, useSubmit, useReset, GroupList } = _ReactForm;\nconst { useRef } = React;\nconst { Button, Space, Card, Input: AntInput, Tag, Typography, message } = antd;\nconst { Text } = Typography;\n\nconst Input = props => {\n  const fieldProps = useField(props);\n  const isError = fieldProps.errState === 2;\n  const isValidating = fieldProps.errState === 3;\n\n  return (\n    <div style={{ marginBottom: 16 }}>\n      <div style={{ marginBottom: 4 }}>\n        <Text type={isError ? \'danger\' : undefined}>{fieldProps.label}</Text>\n      </div>\n      <div>\n        <AntInput\n          {...fieldProps.associationOptions}\n          ref={fieldProps.fieldRef}\n          type="text"\n          value={fieldProps.value || \'\'}\n          onChange={e => fieldProps.onChange(e.target.value)}\n          onBlur={fieldProps.triggerValidate}\n          status={isError ? \'error\' : undefined}\n          style={{ width: 200 }}\n        />\n        {fieldProps.errMsg && (\n          <Text type="danger" style={{ marginLeft: 8, fontSize: 12 }}>\n            {fieldProps.errMsg}\n          </Text>\n        )}\n        {isValidating && (\n          <Text type="secondary" style={{ marginLeft: 8, fontSize: 12 }}>\n            \u9a8c\u8bc1\u4e2d...\n          </Text>\n        )}\n      </div>\n    </div>\n  );\n};\n\nconst SubmitButton = ({ children }) => {\n  const { isLoading, onClick } = useSubmit();\n  return (\n    <Button type="primary" onClick={onClick} loading={isLoading} style={{ marginRight: 8 }}>\n      {children}\n    </Button>\n  );\n};\n\nconst ResetButton = () => {\n  const { onClick } = useReset();\n  return <Button onClick={onClick}>\u91cd\u7f6e</Button>;\n};\n\nconst BaseExample = () => {\n  const ref = useRef(null);\n  const formApiRef = useRef(null);\n  return (\n    <div style={{ padding: 24, background: \'#f5f5f5\', minHeight: \'100vh\' }}>\n      <Card title="\u5b57\u6bb5\u5173\u8054\u793a\u4f8b" bordered={false}>\n        <ReactForm\n          ref={formApiRef}\n          debug\n          onSubmit={data => {\n            console.log(\'submit:\', data);\n            message.success(\'\u63d0\u4ea4\u6210\u529f: \' + JSON.stringify(data, null, 2));\n          }}>\n          <Card\n            type="inner"\n            title={\n              <Space>\n                1. \u5355\u5b57\u6bb5\u5173\u8054<Tag color="blue">\u63cf\u8ff0\u8ddf\u968f\u540d\u79f0</Tag>\n              </Space>\n            }\n            style={{ marginBottom: 16 }}>\n            <Input name="name" label="\u540d\u79f0" rule="REQ LEN-0-10" />\n            <Input\n              name="des"\n              label="\u63cf\u8ff0"\n              rule="LEN-0-10"\n              associations={{\n                fields: [{ name: \'name\' }],\n                callback: ({ target, origin, openApi }) => {\n                  openApi.setFieldValue(target, origin.value);\n                }\n              }}\n            />\n          </Card>\n\n          <Card\n            type="inner"\n            title={\n              <Space>\n                2. \u591a\u5b57\u6bb5\u5173\u8054<Tag color="green">\u59d3\u540d\u62fc\u63a5\u5168\u540d</Tag>\n              </Space>\n            }\n            style={{ marginBottom: 16 }}>\n            <Space wrap>\n              <Input name="familyName" label="\u59d3" rule="REQ LEN-0-10" />\n              <Input name="firstName" label="\u540d" rule="REQ LEN-0-10" />\n            </Space>\n            <Input\n              name="fullName"\n              label="\u5168\u540d"\n              rule="LEN-0-20"\n              associations={{\n                fields: [{ name: \'familyName\' }, { name: \'firstName\' }],\n                callback: ({ target, openApi }) => {\n                  const { firstName, familyName } = openApi.getFormData();\n                  openApi.setFieldValue(target, `${familyName || \'\'}${firstName || \'\'}`);\n                }\n              }}\n            />\n          </Card>\n\n          <Card\n            type="inner"\n            title={\n              <Space>\n                3. \u8ba1\u7b97\u5173\u8054<Tag color="orange">\u91d1\u989d\u9664\u4ee5\u6bd4\u4f8b</Tag>\n              </Space>\n            }\n            style={{ marginBottom: 16 }}>\n            <Space wrap>\n              <Input name="money" label="\u603b\u91d1\u989d" />\n              <Input name="ratio" label="\u6bd4\u4f8b" />\n            </Space>\n            <Input\n              name="all"\n              label="\u6bcf\u4efd\u91d1\u989d"\n              associations={{\n                fields: [{ name: \'money\' }, { name: \'ratio\' }],\n                callback: ({ target, openApi }) => {\n                  const { money, ratio } = openApi.getFormData();\n                  const numMoney = parseFloat(money) || 0;\n                  const numRatio = parseFloat(ratio) || 1;\n                  openApi.setFieldValue(target, numRatio > 0 ? (numMoney / numRatio).toFixed(2) : \'\');\n                }\n              }}\n            />\n          </Card>\n\n          <Card\n            type="inner"\n            title={\n              <Space>\n                4. \u5206\u7ec4\u5173\u8054<Tag color="purple">\u6c47\u603b\u6c42\u548c</Tag>\n              </Space>\n            }\n            style={{ marginBottom: 16 }}>\n            <Button type="primary" onClick={() => ref.current.onAdd()} style={{ marginBottom: 12 }}>\n              \u6dfb\u52a0\u6570\u91cf\u9879\n            </Button>\n            <GroupList ref={ref} name="group" defaultLength={2}>\n              {({ index, onRemove }) => (\n                <Space key={index} style={{ padding: 12, background: \'#f0f0f0\', borderRadius: 6, marginBottom: 8, width: \'100%\' }}>\n                  <Tag color="blue">\u9879 {index + 1}</Tag>\n                  <Input name="sum" label="\u6570\u91cf" />\n                  <Button danger size="small" onClick={onRemove}>\n                    \u5220\u9664\n                  </Button>\n                </Space>\n              )}\n            </GroupList>\n            <Input\n              name="amount"\n              label="\u603b\u6570"\n              associations={{\n                fields: [{ name: \'sum\', groupName: \'group\' }],\n                callback: ({ target, openApi }) => {\n                  const { group } = openApi.getFormData();\n                  const total = (group || []).filter(item => item.sum > 0).reduce((a, b) => a + parseInt(b.sum), 0);\n                  openApi.setFieldValue(target, total > 0 ? total.toString() : \'\');\n                }\n              }}\n            />\n          </Card>\n\n          <div style={{ marginTop: 16 }}>\n            <Space>\n              <SubmitButton>\u63d0\u4ea4</SubmitButton>\n              <ResetButton />\n            </Space>\n          </div>\n        </ReactForm>\n      </Card>\n    </div>\n  );\n};\n\nrender(<BaseExample />);\n\n',scope:[{name:"_ReactForm",packageName:"@kne/current-lib_react-form",component:d},{name:"antd",packageName:"antd",component:r}]},{title:"\u8fdc\u7a0b\u9a8c\u8bc1\u89c4\u5219",description:"\u81ea\u5b9a\u4e49\u8fdc\u7a0b\u5f02\u6b65\u9a8c\u8bc1\u89c4\u5219\uff0c\u6a21\u62df\u63a5\u53e3\u8c03\u7528\u8fdb\u884c\u5b57\u6bb5\u6821\u9a8c",code:"const { default: ReactForm, useField, useSubmit, useReset } = _ReactForm;\nconst { useState, useEffect } = React;\nconst { Button, Space, Card, Input: AntInput, Typography, Alert, message, List, Tag, Divider, Descriptions } = antd;\nconst { Text } = Typography;\n\nconst Input = props => {\n  const fieldProps = useField(props);\n  const isError = fieldProps.errState === 2;\n  const isValidating = fieldProps.errState === 3;\n\n  return (\n    <div style={{ marginBottom: 16 }}>\n      <div style={{ marginBottom: 4 }}>\n        <Text type={isError ? 'danger' : undefined}>{fieldProps.label}</Text>\n      </div>\n      <div>\n        <AntInput ref={fieldProps.fieldRef} type=\"text\" value={fieldProps.value || ''} onChange={e => fieldProps.onChange(e.target.value)} onBlur={fieldProps.triggerValidate} status={isError ? 'error' : undefined} style={{ width: 200 }} />\n        {fieldProps.errMsg && (\n          <Text type=\"danger\" style={{ marginLeft: 8, fontSize: 12 }}>\n            {fieldProps.errMsg}\n          </Text>\n        )}\n        {isValidating && (\n          <Text type=\"secondary\" style={{ marginLeft: 8, fontSize: 12 }}>\n            \u9a8c\u8bc1\u4e2d...\n          </Text>\n        )}\n      </div>\n    </div>\n  );\n};\n\nconst SubmitButton = ({ children }) => {\n  const { isLoading, onClick } = useSubmit();\n  return (\n    <Button type=\"primary\" onClick={onClick} loading={isLoading} style={{ marginRight: 8 }}>\n      {children}\n    </Button>\n  );\n};\n\nconst ResetButton = () => {\n  const { onClick } = useReset();\n  return <Button onClick={onClick}>\u91cd\u7f6e</Button>;\n};\n\n// \u6821\u9a8c\u65e5\u5fd7\u7ec4\u4ef6\nconst ValidationLog = () => {\n  const [logs, setLogs] = useState([]);\n  const listRef = React.useRef(null);\n\n  useEffect(() => {\n    // \u62e6\u622a console.log \u6765\u6355\u83b7\u9a8c\u8bc1\u65e5\u5fd7\n    const originalLog = console.log;\n    console.log = (...args) => {\n      const message = args.join(' ');\n      if (message.includes('\u9a8c\u8bc1')) {\n        const timestamp = new Date().toLocaleTimeString();\n        setLogs(prev => [...prev, { id: Date.now() + Math.random(), timestamp, message }]);\n      }\n      originalLog.apply(console, args);\n    };\n    return () => {\n      console.log = originalLog;\n    };\n  }, []);\n\n  // \u81ea\u52a8\u6eda\u52a8\u5230\u5e95\u90e8\n  useEffect(() => {\n    if (listRef.current) {\n      listRef.current.scrollTop = listRef.current.scrollHeight;\n    }\n  }, [logs]);\n\n  const clearLogs = () => setLogs([]);\n\n  return (\n    <Card title=\"\u8fdc\u7a0b\u6821\u9a8c\u8fc7\u7a0b\" size=\"small\" style={{ marginBottom: 20 }}>\n      <Space style={{ marginBottom: 12 }}>\n        <Button size=\"small\" onClick={clearLogs}>\u6e05\u7a7a\u65e5\u5fd7</Button>\n        <Text type=\"secondary\" style={{ fontSize: 12 }}>\u5171 {logs.length} \u6761\u8bb0\u5f55</Text>\n      </Space>\n      <div ref={listRef} style={{ height: 300, overflowY: 'auto', border: '1px solid #f0f0f0', borderRadius: 4 }}>\n        {logs.length === 0 ? (\n          <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', height: '100%' }}>\n            <Text type=\"secondary\" style={{ fontSize: 12 }}>\n              \u6682\u65e0\u9a8c\u8bc1\u65e5\u5fd7\uff0c\u8bf7\u5728\u4e0a\u65b9\u8f93\u5165\u6846\u4e2d\u8f93\u5165\u5185\u5bb9\u89e6\u53d1\u9a8c\u8bc1\n            </Text>\n          </div>\n        ) : (\n          <List\n            size=\"small\"\n            dataSource={logs}\n            renderItem={item => {\n              const isStart = item.message.includes('\u5f00\u59cb\u9a8c\u8bc1');\n              const isComplete = item.message.includes('\u9a8c\u8bc1\u5b8c\u6210');\n              return (\n                <List.Item style={{ padding: '8px 12', borderBottom: '1px solid #f0f0f0' }}>\n                  <Space>\n                    <Text type=\"secondary\" style={{ fontSize: 11, minWidth: 70 }}>{item.timestamp}</Text>\n                    <Tag color={isStart ? 'blue' : isComplete ? 'green' : 'default'} style={{ margin: 0 }}>\n                      {isStart ? '\u5f00\u59cb' : isComplete ? '\u5b8c\u6210' : '\u5176\u4ed6'}\n                    </Tag>\n                    <Text style={{ fontSize: 12 }}>{item.message}</Text>\n                  </Space>\n                </List.Item>\n              );\n            }}\n          />\n        )}\n      </div>\n    </Card>\n  );\n};\n\n// \u6a21\u62df\u7528\u6237\u540d\u91cd\u590d\u68c0\u67e5\u7684\u8fdc\u7a0b\u9a8c\u8bc1\u89c4\u5219\nconst checkUsernameUnique = async value => {\n  if (!value) {\n    return { result: false, errMsg: '\u7528\u6237\u540d\u4e0d\u80fd\u4e3a\u7a7a' };\n  }\n\n  // \u6a21\u62df\u5df2\u5b58\u5728\u7684\u7528\u6237\u540d\n  const existingUsernames = ['admin', 'test', 'user', 'root'];\n\n  console.log(`\u5f00\u59cb\u9a8c\u8bc1\u7528\u6237\u540d: ${value}`);\n  await new Promise(resolve => setTimeout(resolve, 1500));\n  console.log(`\u9a8c\u8bc1\u5b8c\u6210\u7528\u6237\u540d: ${value}`);\n\n  if (existingUsernames.includes(value)) {\n    return { result: false, errMsg: '\u8be5\u7528\u6237\u540d\u5df2\u88ab\u5360\u7528' };\n  }\n\n  return { result: true, errMsg: '' };\n};\n\n// \u6a21\u62df\u624b\u673a\u53f7\u6709\u6548\u6027\u68c0\u67e5\u7684\u8fdc\u7a0b\u9a8c\u8bc1\u89c4\u5219\nconst checkPhoneValid = async value => {\n  if (!value) {\n    return { result: false, errMsg: '\u624b\u673a\u53f7\u4e0d\u80fd\u4e3a\u7a7a' };\n  }\n\n  console.log(`\u5f00\u59cb\u9a8c\u8bc1\u624b\u673a\u53f7: ${value}`);\n  await new Promise(resolve => setTimeout(resolve, 1000));\n  console.log(`\u9a8c\u8bc1\u5b8c\u6210\u624b\u673a\u53f7: ${value}`);\n\n  // \u6a21\u62df\u624b\u673a\u53f7\u9ed1\u540d\u5355\n  const blackList = ['13800138000', '13900139000'];\n\n  if (blackList.includes(value)) {\n    return { result: false, errMsg: '\u8be5\u624b\u673a\u53f7\u5df2\u88ab\u6ce8\u518c' };\n  }\n\n  return { result: true, errMsg: '' };\n};\n\nconst BaseExample = () => {\n  return (\n    <div style={{ padding: 24, background: '#f5f5f5', minHeight: '100vh' }}>\n      <Card title=\"\u8fdc\u7a0b\u9a8c\u8bc1\u89c4\u5219\u793a\u4f8b\" bordered={false}>\n        <Alert message=\"\u5f02\u6b65\u9a8c\u8bc1\u8bf4\u660e\" description=\"\u793a\u4f8b\u5c55\u793a\u4e86\u5982\u4f55\u4f7f\u7528\u81ea\u5b9a\u4e49\u7684\u5f02\u6b65\u9a8c\u8bc1\u89c4\u5219\u6765\u6a21\u62df\u8fdc\u7a0b\u63a5\u53e3\u9a8c\u8bc1\" type=\"info\" showIcon style={{ marginBottom: 20 }} />\n\n        <ValidationLog />\n\n        <Card type=\"inner\" title=\"\u7279\u6b8a\u8f93\u5165\u503c\u8bf4\u660e\" size=\"small\" style={{ marginBottom: 20, backgroundColor: '#fff7e6' }}>\n          <Descriptions column={1} size=\"small\">\n            <Descriptions.Item label=\"\u5df2\u5360\u7528\u7528\u6237\u540d\">\n              <Space>\n                <Tag color=\"red\">admin</Tag>\n                <Tag color=\"red\">test</Tag>\n                <Tag color=\"red\">user</Tag>\n                <Tag color=\"red\">root</Tag>\n              </Space>\n            </Descriptions.Item>\n            <Descriptions.Item label=\"\u5df2\u6ce8\u518c\u624b\u673a\u53f7\">\n              <Space>\n                <Tag color=\"red\">13800138000</Tag>\n                <Tag color=\"red\">13900139000</Tag>\n              </Space>\n            </Descriptions.Item>\n          </Descriptions>\n          <Text type=\"secondary\" style={{ fontSize: 12 }}>\n            \ud83d\udca1 \u8f93\u5165\u4ee5\u4e0a\u503c\u4f1a\u89e6\u53d1\u9a8c\u8bc1\u5931\u8d25\uff0c\u7528\u4e8e\u6d4b\u8bd5\u9519\u8bef\u63d0\u793a\u548c\u6821\u9a8c\u8fc7\u7a0b\n          </Text>\n        </Card>\n\n        <ReactForm\n          debug\n          rules={{\n            CHECK_USERNAME: checkUsernameUnique,\n            CHECK_PHONE: checkPhoneValid\n          }}\n          data={{\n            username: '',\n            phone: ''\n          }}\n          onSubmit={async data => {\n            console.log('\u63d0\u4ea4\u6570\u636e:', data);\n            await new Promise(resolve => setTimeout(resolve, 2000));\n            message.success('\u6ce8\u518c\u6210\u529f: ' + JSON.stringify(data, null, 2));\n          }}>\n          <Input name=\"username\" label=\"\u7528\u6237\u540d\" rule=\"REQ LEN-3-20 CHECK_USERNAME\" placeholder=\"\u8bf7\u8f93\u5165\u7528\u6237\u540d\" />\n          <Input name=\"phone\" label=\"\u624b\u673a\u53f7\" rule=\"REQ TEL CHECK_PHONE\" placeholder=\"\u8bf7\u8f93\u5165\u624b\u673a\u53f7\" />\n\n          <div style={{ marginTop: 20 }}>\n            <Space>\n              <SubmitButton>\u6ce8\u518c</SubmitButton>\n              <ResetButton />\n            </Space>\n          </div>\n        </ReactForm>\n      </Card>\n    </div>\n  );\n};\n\nrender(<BaseExample />);\n\n",scope:[{name:"_ReactForm",packageName:"@kne/current-lib_react-form",component:d},{name:"antd",packageName:"antd",component:r}]}]}}}}]);
//# sourceMappingURL=666.6af76cfa.chunk.js.map